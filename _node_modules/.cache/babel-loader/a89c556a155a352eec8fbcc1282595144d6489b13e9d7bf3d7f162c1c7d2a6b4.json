{"ast":null,"code":"const ACCOUNT_CAPABILITIES = require('../configs/ACCOUNT_CAPABILITIES');\nconst announceSaleCalcNextAction = require('./announceSaleCalcNextAction');\nlet nextSaleIndex = 0;\nconst announceSaleIterCalcNextAction = async ({\n  accountName\n}) => {\n  const sellAssetsList = ACCOUNT_CAPABILITIES[accountName].atomichub_sell_assets_list || [];\n  if (sellAssetsList.length === 0) {\n    return {\n      action: 'wait',\n      message: 'No sales in the list'\n    };\n  }\n  const nextSellAction = await announceSaleCalcNextAction({\n    accountName,\n    gameSettings: {\n      saleSettings: sellAssetsList[nextSaleIndex]\n    }\n  });\n  if (nextSaleIndex === sellAssetsList.length - 1) {\n    nextSaleIndex = 0;\n  } else {\n    nextSaleIndex++;\n  }\n  return nextSellAction;\n};\nmodule.exports = announceSaleIterCalcNextAction;","map":{"version":3,"names":["ACCOUNT_CAPABILITIES","require","announceSaleCalcNextAction","nextSaleIndex","announceSaleIterCalcNextAction","accountName","sellAssetsList","atomichub_sell_assets_list","length","action","message","nextSellAction","gameSettings","saleSettings","module","exports"],"sources":["/Users/germangurov/projects/wax_bot/src/atomicassets/announceSaleIterCalcNextAction.js"],"sourcesContent":["const ACCOUNT_CAPABILITIES = require('../configs/ACCOUNT_CAPABILITIES');\nconst announceSaleCalcNextAction = require('./announceSaleCalcNextAction');\n\nlet nextSaleIndex = 0;\nconst announceSaleIterCalcNextAction = async ({\n    accountName,\n}) => {\n    const sellAssetsList = ACCOUNT_CAPABILITIES[accountName].atomichub_sell_assets_list || [];\n    if (sellAssetsList.length === 0) {\n        return {\n            action: 'wait',\n            message: 'No sales in the list',\n        };\n    }\n\n    const nextSellAction = await announceSaleCalcNextAction({\n        accountName,\n        gameSettings: {\n            saleSettings: sellAssetsList[nextSaleIndex],\n        },\n    });\n\n    if (nextSaleIndex === (sellAssetsList.length - 1)) {\n        nextSaleIndex = 0;\n    } else {\n        nextSaleIndex++;\n    }\n\n    return nextSellAction;\n};\n\nmodule.exports = announceSaleIterCalcNextAction;"],"mappings":"AAAA,MAAMA,oBAAoB,GAAGC,OAAO,CAAC,iCAAiC,CAAC;AACvE,MAAMC,0BAA0B,GAAGD,OAAO,CAAC,8BAA8B,CAAC;AAE1E,IAAIE,aAAa,GAAG,CAAC;AACrB,MAAMC,8BAA8B,GAAG,MAAAA,CAAO;EAC1CC;AACJ,CAAC,KAAK;EACF,MAAMC,cAAc,GAAGN,oBAAoB,CAACK,WAAW,CAAC,CAACE,0BAA0B,IAAI,EAAE;EACzF,IAAID,cAAc,CAACE,MAAM,KAAK,CAAC,EAAE;IAC7B,OAAO;MACHC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;IACb,CAAC;EACL;EAEA,MAAMC,cAAc,GAAG,MAAMT,0BAA0B,CAAC;IACpDG,WAAW;IACXO,YAAY,EAAE;MACVC,YAAY,EAAEP,cAAc,CAACH,aAAa;IAC9C;EACJ,CAAC,CAAC;EAEF,IAAIA,aAAa,KAAMG,cAAc,CAACE,MAAM,GAAG,CAAE,EAAE;IAC/CL,aAAa,GAAG,CAAC;EACrB,CAAC,MAAM;IACHA,aAAa,EAAE;EACnB;EAEA,OAAOQ,cAAc;AACzB,CAAC;AAEDG,MAAM,CAACC,OAAO,GAAGX,8BAA8B"},"metadata":{},"sourceType":"module","externalDependencies":[]}