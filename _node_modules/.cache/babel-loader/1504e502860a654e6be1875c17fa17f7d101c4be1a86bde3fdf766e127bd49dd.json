{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PublicKey = void 0;\nvar eosjs_numeric_1 = require(\"./eosjs-numeric\");\nvar eosjs_key_conversions_1 = require(\"./eosjs-key-conversions\");\n/** Represents/stores a public key and provides easy conversion for use with `elliptic` lib */\nvar PublicKey = /** @class */function () {\n  function PublicKey(key, ec) {\n    this.key = key;\n    this.ec = ec;\n  }\n  /** Instantiate public key from an EOSIO-format public key */\n  PublicKey.fromString = function (publicKeyStr, ec) {\n    var key = eosjs_numeric_1.stringToPublicKey(publicKeyStr);\n    if (!ec) {\n      ec = eosjs_key_conversions_1.constructElliptic(key.type);\n    }\n    return new PublicKey(key, ec);\n  };\n  /** Instantiate public key from an `elliptic`-format public key */\n  PublicKey.fromElliptic = function (publicKey, keyType, ec) {\n    var x = publicKey.getPublic().getX().toArray('be', 32);\n    var y = publicKey.getPublic().getY().toArray('be', 32);\n    if (!ec) {\n      ec = eosjs_key_conversions_1.constructElliptic(keyType);\n    }\n    return new PublicKey({\n      type: keyType,\n      data: new Uint8Array([y[31] & 1 ? 3 : 2].concat(x))\n    }, ec);\n  };\n  /** Export public key as EOSIO-format public key */\n  PublicKey.prototype.toString = function () {\n    return eosjs_numeric_1.publicKeyToString(this.key);\n  };\n  /** Export public key as Legacy EOSIO-format public key */\n  PublicKey.prototype.toLegacyString = function () {\n    return eosjs_numeric_1.publicKeyToLegacyString(this.key);\n  };\n  /** Export public key as `elliptic`-format public key */\n  PublicKey.prototype.toElliptic = function () {\n    return this.ec.keyPair({\n      pub: Buffer.from(this.key.data)\n    });\n  };\n  /** Get key type from key */\n  PublicKey.prototype.getType = function () {\n    return this.key.type;\n  };\n  /** Validate a public key */\n  PublicKey.prototype.isValid = function () {\n    try {\n      var ellipticPublicKey = this.toElliptic();\n      var validationObj = ellipticPublicKey.validate();\n      return validationObj.result;\n    } catch (_a) {\n      return false;\n    }\n  };\n  return PublicKey;\n}();\nexports.PublicKey = PublicKey;","map":{"version":3,"names":["eosjs_numeric_1","require","eosjs_key_conversions_1","PublicKey","key","ec","fromString","publicKeyStr","stringToPublicKey","constructElliptic","type","fromElliptic","publicKey","keyType","x","getPublic","getX","toArray","y","getY","data","Uint8Array","concat","prototype","toString","publicKeyToString","toLegacyString","publicKeyToLegacyString","toElliptic","keyPair","pub","Buffer","from","getType","isValid","ellipticPublicKey","validationObj","validate","result","_a","exports"],"sources":["../src/PublicKey.ts"],"sourcesContent":[null],"mappings":";;;;;;AACA,IAAAA,eAAA,GAAAC,OAAA;AAOA,IAAAC,uBAAA,GAAAD,OAAA;AAEA;AACA,IAAAE,SAAA;EACI,SAAAA,UAAoBC,GAAQ,EAAUC,EAAM;IAAxB,KAAAD,GAAG,GAAHA,GAAG;IAAe,KAAAC,EAAE,GAAFA,EAAE;EAAO;EAE/C;EACcF,SAAA,CAAAG,UAAU,GAAxB,UAAyBC,YAAoB,EAAEF,EAAO;IAClD,IAAMD,GAAG,GAAGJ,eAAA,CAAAQ,iBAAiB,CAACD,YAAY,CAAC;IAC3C,IAAI,CAACF,EAAE,EAAE;MACLA,EAAE,GAAGH,uBAAA,CAAAO,iBAAiB,CAACL,GAAG,CAACM,IAAI,CAAC;;IAEpC,OAAO,IAAIP,SAAS,CAACC,GAAG,EAAEC,EAAE,CAAC;EACjC,CAAC;EAED;EACcF,SAAA,CAAAQ,YAAY,GAA1B,UAA2BC,SAAqB,EAAEC,OAAgB,EAAER,EAAO;IACvE,IAAMS,CAAC,GAAGF,SAAS,CAACG,SAAS,EAAE,CAACC,IAAI,EAAE,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;IACxD,IAAMC,CAAC,GAAGN,SAAS,CAACG,SAAS,EAAE,CAACI,IAAI,EAAE,CAACF,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;IACxD,IAAI,CAACZ,EAAE,EAAE;MACLA,EAAE,GAAGH,uBAAA,CAAAO,iBAAiB,CAACI,OAAO,CAAC;;IAEnC,OAAO,IAAIV,SAAS,CAAC;MACjBO,IAAI,EAAEG,OAAO;MACbO,IAAI,EAAE,IAAIC,UAAU,CAAC,CAAEH,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,GAAI,CAAC,GAAG,CAAC,CAAC,CAACI,MAAM,CAACR,CAAC,CAAC;KACvD,EAAET,EAAE,CAAC;EACV,CAAC;EAED;EACOF,SAAA,CAAAoB,SAAA,CAAAC,QAAQ,GAAf;IACI,OAAOxB,eAAA,CAAAyB,iBAAiB,CAAC,IAAI,CAACrB,GAAG,CAAC;EACtC,CAAC;EAED;EACOD,SAAA,CAAAoB,SAAA,CAAAG,cAAc,GAArB;IACI,OAAO1B,eAAA,CAAA2B,uBAAuB,CAAC,IAAI,CAACvB,GAAG,CAAC;EAC5C,CAAC;EAED;EACOD,SAAA,CAAAoB,SAAA,CAAAK,UAAU,GAAjB;IACI,OAAO,IAAI,CAACvB,EAAE,CAACwB,OAAO,CAAC;MACnBC,GAAG,EAAEC,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC5B,GAAG,CAACgB,IAAI;KACjC,CAAC;EACN,CAAC;EAED;EACOjB,SAAA,CAAAoB,SAAA,CAAAU,OAAO,GAAd;IACI,OAAO,IAAI,CAAC7B,GAAG,CAACM,IAAI;EACxB,CAAC;EAED;EACOP,SAAA,CAAAoB,SAAA,CAAAW,OAAO,GAAd;IACI,IAAI;MACA,IAAMC,iBAAiB,GAAG,IAAI,CAACP,UAAU,EAAE;MAC3C,IAAMQ,aAAa,GAAGD,iBAAiB,CAACE,QAAQ,EAAE;MAClD,OAAOD,aAAa,CAACE,MAAM;KAC9B,CAAC,OAAAC,EAAA,EAAM;MACJ,OAAO,KAAK;;EAEpB,CAAC;EACL,OAAApC,SAAC;AAAD,CAAC,CAzDD;AAAaqC,OAAA,CAAArC,SAAA,GAAAA,SAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}