{"ast":null,"code":"import _objectSpread from\"/Users/germangurov/projects/wax_bot/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var _=require('lodash');var sumResources=require('./sumResources');var findResource=require('./findResource');var equalizeResources=function equalizeResources(_ref){var targetResources=_ref.targetResources,currentResources=_ref.currentResources;var nTargetResources=sumResources({resources:targetResources});var nCurrentResources=sumResources({resources:currentResources});return _(nTargetResources).map(function(targetResource){var currentResource=findResource({resources:nCurrentResources,symbol:targetResource.symbol});if(currentResource==null){return _objectSpread({},targetResource);}if(currentResource.value>=targetResource.value){return{value:0,symbol:targetResource.symbol};}return{value:_.ceil(targetResource.value-currentResource.value,4),symbol:targetResource.symbol};}).filter(function(resource){return resource.value>0;}).value();};module.exports=equalizeResources;","map":{"version":3,"names":["_","require","sumResources","findResource","equalizeResources","_ref","targetResources","currentResources","nTargetResources","resources","nCurrentResources","map","targetResource","currentResource","symbol","_objectSpread","value","ceil","filter","resource","module","exports"],"sources":["/Users/germangurov/projects/wax_bot/src/novopangea/utils/equalizeResources.js"],"sourcesContent":["const _ = require('lodash');\nconst sumResources = require('./sumResources');\nconst findResource = require('./findResource');\n\nconst equalizeResources = ({\n    targetResources,\n    currentResources,\n}) => {\n    const nTargetResources = sumResources({\n        resources: targetResources,\n    });\n    const nCurrentResources = sumResources({\n        resources: currentResources,\n    });\n    return _(nTargetResources)\n        .map(targetResource => {\n            const currentResource = findResource({\n                resources: nCurrentResources,\n                symbol: targetResource.symbol\n            });\n\n            if (currentResource == null) {\n                return {\n                    ...targetResource,\n                };\n            }\n\n            if (currentResource.value >= targetResource.value) {\n                return {\n                    value: 0,\n                    symbol: targetResource.symbol,\n                };\n            }\n            \n\n            return {\n                value: _.ceil(targetResource.value - currentResource.value, 4),\n                symbol: targetResource.symbol,\n            }\n        })\n        .filter(resource => resource.value > 0)\n        .value();\n};\n\nmodule.exports = equalizeResources;"],"mappings":"wHAAA,GAAM,CAAAA,CAAC,CAAGC,OAAO,CAAC,QAAQ,CAAC,CAC3B,GAAM,CAAAC,YAAY,CAAGD,OAAO,CAAC,gBAAgB,CAAC,CAC9C,GAAM,CAAAE,YAAY,CAAGF,OAAO,CAAC,gBAAgB,CAAC,CAE9C,GAAM,CAAAG,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAAC,IAAA,CAGjB,IAFF,CAAAC,eAAe,CAAAD,IAAA,CAAfC,eAAe,CACfC,gBAAgB,CAAAF,IAAA,CAAhBE,gBAAgB,CAEhB,GAAM,CAAAC,gBAAgB,CAAGN,YAAY,CAAC,CAClCO,SAAS,CAAEH,eACf,CAAC,CAAC,CACF,GAAM,CAAAI,iBAAiB,CAAGR,YAAY,CAAC,CACnCO,SAAS,CAAEF,gBACf,CAAC,CAAC,CACF,MAAO,CAAAP,CAAC,CAACQ,gBAAgB,CAAC,CACrBG,GAAG,CAAC,SAAAC,cAAc,CAAI,CACnB,GAAM,CAAAC,eAAe,CAAGV,YAAY,CAAC,CACjCM,SAAS,CAAEC,iBAAiB,CAC5BI,MAAM,CAAEF,cAAc,CAACE,MAC3B,CAAC,CAAC,CAEF,GAAID,eAAe,EAAI,IAAI,CAAE,CACzB,OAAAE,aAAA,IACOH,cAAc,EAEzB,CAEA,GAAIC,eAAe,CAACG,KAAK,EAAIJ,cAAc,CAACI,KAAK,CAAE,CAC/C,MAAO,CACHA,KAAK,CAAE,CAAC,CACRF,MAAM,CAAEF,cAAc,CAACE,MAC3B,CAAC,CACL,CAGA,MAAO,CACHE,KAAK,CAAEhB,CAAC,CAACiB,IAAI,CAACL,cAAc,CAACI,KAAK,CAAGH,eAAe,CAACG,KAAK,CAAE,CAAC,CAAC,CAC9DF,MAAM,CAAEF,cAAc,CAACE,MAC3B,CAAC,CACL,CAAC,CAAC,CACDI,MAAM,CAAC,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACH,KAAK,CAAG,CAAC,GAAC,CACtCA,KAAK,CAAC,CAAC,CAChB,CAAC,CAEDI,MAAM,CAACC,OAAO,CAAGjB,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}