{"ast":null,"code":"const fetchSales = require('./api/fetchSales');\nconst cancelSales = require('./actions/cancelSales');\nconst cancelInvalidSalesCalcNextAction = async ({\n  accountName\n}) => {\n  const invalidAccountSales = await fetchSales({\n    params: {\n      state: 4,\n      seller: accountName\n    }\n  });\n  if (invalidAccountSales.length > 0) {\n    return {\n      action: 'cancel_invalid_sales',\n      message: `Canceling ${invalidAccountSales.length} sales`,\n      actions: cancelSales({\n        sales: invalidAccountSales\n      }),\n      invalidAccountSales\n    };\n  }\n  return {\n    action: 'wait',\n    message: 'No invalid sales'\n  };\n};\nmodule.exports = cancelInvalidSalesCalcNextAction;","map":{"version":3,"names":["fetchSales","require","cancelSales","cancelInvalidSalesCalcNextAction","accountName","invalidAccountSales","params","state","seller","length","action","message","actions","sales","module","exports"],"sources":["/Users/germangurov/projects/wax_bot/src/atomicassets/cancelInvalidSalesCalcNextAction.js"],"sourcesContent":["const fetchSales = require('./api/fetchSales');\nconst cancelSales = require('./actions/cancelSales');\n\nconst cancelInvalidSalesCalcNextAction = async ({\n    accountName,\n}) => {\n    const invalidAccountSales = await fetchSales({\n        params: {\n            state: 4,\n            seller: accountName,\n        },\n    });\n\n    if (invalidAccountSales.length > 0) {\n        return {\n            action: 'cancel_invalid_sales',\n            message: `Canceling ${invalidAccountSales.length} sales`,\n            actions: cancelSales({\n                sales: invalidAccountSales,\n            }),\n            invalidAccountSales,\n        };\n    }\n\n    return {\n        action: 'wait',\n        message: 'No invalid sales',\n    };\n};\n\nmodule.exports = cancelInvalidSalesCalcNextAction;"],"mappings":"AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AAC9C,MAAMC,WAAW,GAAGD,OAAO,CAAC,uBAAuB,CAAC;AAEpD,MAAME,gCAAgC,GAAG,MAAAA,CAAO;EAC5CC;AACJ,CAAC,KAAK;EACF,MAAMC,mBAAmB,GAAG,MAAML,UAAU,CAAC;IACzCM,MAAM,EAAE;MACJC,KAAK,EAAE,CAAC;MACRC,MAAM,EAAEJ;IACZ;EACJ,CAAC,CAAC;EAEF,IAAIC,mBAAmB,CAACI,MAAM,GAAG,CAAC,EAAE;IAChC,OAAO;MACHC,MAAM,EAAE,sBAAsB;MAC9BC,OAAO,EAAG,aAAYN,mBAAmB,CAACI,MAAO,QAAO;MACxDG,OAAO,EAAEV,WAAW,CAAC;QACjBW,KAAK,EAAER;MACX,CAAC,CAAC;MACFA;IACJ,CAAC;EACL;EAEA,OAAO;IACHK,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;EACb,CAAC;AACL,CAAC;AAEDG,MAAM,CAACC,OAAO,GAAGZ,gCAAgC"},"metadata":{},"sourceType":"module","externalDependencies":[]}