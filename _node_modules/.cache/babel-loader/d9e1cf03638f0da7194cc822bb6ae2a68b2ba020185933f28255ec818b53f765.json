{"ast":null,"code":"const _ = require('lodash');\nconst {\n  WAX_BLOCKS_PROVIDER\n} = require('../configs/ENDPOINTS');\nconst fetchCurrencyData = async params => {\n  const res = await fetch(`${WAX_BLOCKS_PROVIDER}/v1/chain/get_currency_balance`, {\n    headers: {\n      accept: '*/*'\n    },\n    body: JSON.stringify(params),\n    method: 'POST'\n  });\n  const data = await res.json();\n  const currencies = _(data).map(currency => ({\n    amount: Number(currency.split(' ')[0]),\n    tokenName: currency.split(' ')[1],\n    contract: params.code,\n    fullTokenName: `${currency.split(' ')[1]}+${params.code}`\n  })).value();\n  return currencies;\n};\nmodule.exports = fetchCurrencyData;","map":{"version":3,"names":["_","require","WAX_BLOCKS_PROVIDER","fetchCurrencyData","params","res","fetch","headers","accept","body","JSON","stringify","method","data","json","currencies","map","currency","amount","Number","split","tokenName","contract","code","fullTokenName","value","module","exports"],"sources":["/Users/germangurov/projects/wax_bot/src/core/fetchCurrencyBalance.js"],"sourcesContent":["const _ = require('lodash');\nconst {WAX_BLOCKS_PROVIDER} = require('../configs/ENDPOINTS');\n\nconst fetchCurrencyData = async (params) => {\n    const res = await fetch(`${WAX_BLOCKS_PROVIDER}/v1/chain/get_currency_balance`, {\n      headers: {\n        accept: '*/*',\n      },\n      body: JSON.stringify(params),\n      method: 'POST',\n    });\n\n    const data = await res.json();\n\n    const currencies = _(data)\n        .map(currency  => ({\n            amount: Number(currency.split(' ')[0]),\n            tokenName: currency.split(' ')[1],\n            contract: params.code,\n            fullTokenName: `${currency.split(' ')[1]}+${params.code}`,\n        }))\n        .value();\n\n    return currencies;\n}\n\nmodule.exports = fetchCurrencyData;\n"],"mappings":"AAAA,MAAMA,CAAC,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAC3B,MAAM;EAACC;AAAmB,CAAC,GAAGD,OAAO,CAAC,sBAAsB,CAAC;AAE7D,MAAME,iBAAiB,GAAG,MAAOC,MAAM,IAAK;EACxC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAEJ,mBAAoB,gCAA+B,EAAE;IAC9EK,OAAO,EAAE;MACPC,MAAM,EAAE;IACV,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,MAAM,CAAC;IAC5BQ,MAAM,EAAE;EACV,CAAC,CAAC;EAEF,MAAMC,IAAI,GAAG,MAAMR,GAAG,CAACS,IAAI,CAAC,CAAC;EAE7B,MAAMC,UAAU,GAAGf,CAAC,CAACa,IAAI,CAAC,CACrBG,GAAG,CAACC,QAAQ,KAAM;IACfC,MAAM,EAAEC,MAAM,CAACF,QAAQ,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACtCC,SAAS,EAAEJ,QAAQ,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACjCE,QAAQ,EAAElB,MAAM,CAACmB,IAAI;IACrBC,aAAa,EAAG,GAAEP,QAAQ,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAE,IAAGhB,MAAM,CAACmB,IAAK;EAC5D,CAAC,CAAC,CAAC,CACFE,KAAK,CAAC,CAAC;EAEZ,OAAOV,UAAU;AACrB,CAAC;AAEDW,MAAM,CAACC,OAAO,GAAGxB,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}