{"ast":null,"code":"import _regeneratorRuntime from\"/Users/germangurov/projects/wax_bot/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/germangurov/projects/wax_bot/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import*as waxjs from\"@waxio/waxjs/dist\";import log from'../utils/log';var _require=require('../configs/ENDPOINTS'),WAX_BLOCKS_PROVIDER=_require.WAX_BLOCKS_PROVIDER;export var wax=new waxjs.WaxJS({rpcEndpoint:WAX_BLOCKS_PROVIDER});export var checkIsAutoLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var isAutoLoginAvailable;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return wax.isAutoLoginAvailable();case 2:isAutoLoginAvailable=_context.sent;if(isAutoLoginAvailable){console.log(\"AutoLogin enabled for account: \".concat(wax.userAccount));}case 4:case\"end\":return _context.stop();}},_callee);}));return function checkIsAutoLogin(){return _ref.apply(this,arguments);};}();export var execTransaction=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref2){var project,actions,result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:project=_ref2.project,actions=_ref2.actions;if(!(actions==null)){_context2.next=3;break;}return _context2.abrupt(\"return\");case 3:_context2.next=5;return wax.api.transact({actions:actions},{blocksBehind:3,expireSeconds:1200});case 5:result=_context2.sent;log({project:project,message:\"Transaction submitted\",info:result});return _context2.abrupt(\"return\",result);case 8:case\"end\":return _context2.stop();}},_callee2);}));return function execTransaction(_x){return _ref3.apply(this,arguments);};}();checkIsAutoLogin();","map":{"version":3,"names":["waxjs","log","_require","require","WAX_BLOCKS_PROVIDER","wax","WaxJS","rpcEndpoint","checkIsAutoLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","isAutoLoginAvailable","wrap","_callee$","_context","prev","next","sent","console","concat","userAccount","stop","apply","arguments","execTransaction","_ref3","_callee2","_ref2","project","actions","result","_callee2$","_context2","abrupt","api","transact","blocksBehind","expireSeconds","message","info","_x"],"sources":["/Users/germangurov/projects/wax_bot/src/core/wax.js"],"sourcesContent":["import * as waxjs from \"@waxio/waxjs/dist\";\nimport log from '../utils/log';\nconst {WAX_BLOCKS_PROVIDER} = require('../configs/ENDPOINTS');\n\nexport const wax = new waxjs.WaxJS({\n  rpcEndpoint: WAX_BLOCKS_PROVIDER,\n});\n\nexport const checkIsAutoLogin = async () => {\n  const isAutoLoginAvailable = await wax.isAutoLoginAvailable();\n  if (isAutoLoginAvailable) {\n    console.log(`AutoLogin enabled for account: ${wax.userAccount}`);\n  }\n};\n\nexport const execTransaction = async ({project, actions}) => {\n  if (actions == null) {\n    return;\n  }\n\n  const result = await wax.api.transact({\n    actions: actions,\n  }, {\n    blocksBehind: 3,\n    expireSeconds: 1200,\n  });\n  log({\n    project,\n    message: `Transaction submitted`,\n    info: result,\n  });\n\n  return result;\n};\n\ncheckIsAutoLogin();\n"],"mappings":"kQAAA,MAAO,GAAK,CAAAA,KAAK,KAAM,mBAAmB,CAC1C,MAAO,CAAAC,GAAG,KAAM,cAAc,CAC9B,IAAAC,QAAA,CAA8BC,OAAO,CAAC,sBAAsB,CAAC,CAAtDC,mBAAmB,CAAAF,QAAA,CAAnBE,mBAAmB,CAE1B,MAAO,IAAM,CAAAC,GAAG,CAAG,GAAI,CAAAL,KAAK,CAACM,KAAK,CAAC,CACjCC,WAAW,CAAEH,mBACf,CAAC,CAAC,CAEF,MAAO,IAAM,CAAAI,gBAAgB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,oBAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACK,CAAAd,GAAG,CAACS,oBAAoB,CAAC,CAAC,QAAvDA,oBAAoB,CAAAG,QAAA,CAAAG,IAAA,CAC1B,GAAIN,oBAAoB,CAAE,CACxBO,OAAO,CAACpB,GAAG,mCAAAqB,MAAA,CAAmCjB,GAAG,CAACkB,WAAW,CAAE,CAAC,CAClE,CAAC,wBAAAN,QAAA,CAAAO,IAAA,MAAAX,OAAA,GACF,kBALY,CAAAL,gBAAgBA,CAAA,SAAAC,IAAA,CAAAgB,KAAA,MAAAC,SAAA,OAK5B,CAED,MAAO,IAAM,CAAAC,eAAe,6BAAAC,KAAA,CAAAlB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAiB,SAAAC,KAAA,MAAAC,OAAA,CAAAC,OAAA,CAAAC,MAAA,QAAAtB,mBAAA,GAAAI,IAAA,UAAAmB,UAAAC,SAAA,iBAAAA,SAAA,CAAAjB,IAAA,CAAAiB,SAAA,CAAAhB,IAAA,SAAQY,OAAO,CAAAD,KAAA,CAAPC,OAAO,CAAEC,OAAO,CAAAF,KAAA,CAAPE,OAAO,MACjDA,OAAO,EAAI,IAAI,GAAAG,SAAA,CAAAhB,IAAA,iBAAAgB,SAAA,CAAAC,MAAA,kBAAAD,SAAA,CAAAhB,IAAA,SAIE,CAAAd,GAAG,CAACgC,GAAG,CAACC,QAAQ,CAAC,CACpCN,OAAO,CAAEA,OACX,CAAC,CAAE,CACDO,YAAY,CAAE,CAAC,CACfC,aAAa,CAAE,IACjB,CAAC,CAAC,QALIP,MAAM,CAAAE,SAAA,CAAAf,IAAA,CAMZnB,GAAG,CAAC,CACF8B,OAAO,CAAPA,OAAO,CACPU,OAAO,wBAAyB,CAChCC,IAAI,CAAET,MACR,CAAC,CAAC,CAAC,OAAAE,SAAA,CAAAC,MAAA,UAEIH,MAAM,0BAAAE,SAAA,CAAAX,IAAA,MAAAK,QAAA,GACd,kBAlBY,CAAAF,eAAeA,CAAAgB,EAAA,SAAAf,KAAA,CAAAH,KAAA,MAAAC,SAAA,OAkB3B,CAEDlB,gBAAgB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}