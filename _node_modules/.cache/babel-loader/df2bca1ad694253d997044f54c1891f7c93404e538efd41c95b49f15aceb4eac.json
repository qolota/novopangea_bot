{"ast":null,"code":"const fetchWaxData = require('./fetchWaxData');\nconst fetchWaxUsd = async () => {\n  const rows = await fetchWaxData({\n    code: \"delphioracle\",\n    index_position: 3,\n    json: true,\n    key_type: \"i64\",\n    limit: 1,\n    reverse: true,\n    scope: \"waxpusd\",\n    table: \"datapoints\",\n    upper_bound: \"\"\n  });\n  if (rows.length === 0) {\n    throw new Error('Error loading Wax/USD price');\n  }\n  const price = rows[0];\n  return price.value / 10000;\n};\nmodule.exports = fetchWaxUsd;","map":{"version":3,"names":["fetchWaxData","require","fetchWaxUsd","rows","code","index_position","json","key_type","limit","reverse","scope","table","upper_bound","length","Error","price","value","module","exports"],"sources":["/Users/germangurov/projects/wax_bot/src/core/fetchWaxUsd.js"],"sourcesContent":["const fetchWaxData = require('./fetchWaxData');\n\nconst fetchWaxUsd = async () => {\n    const rows = await fetchWaxData({\n        code: \"delphioracle\",\n        index_position: 3,\n        json: true,\n        key_type: \"i64\",\n        limit: 1,\n        reverse: true,\n        scope: \"waxpusd\",\n        table: \"datapoints\",\n        upper_bound: \"\",\n    });\n\n    if (rows.length === 0) {\n        throw new Error('Error loading Wax/USD price');\n    }\n\n    const price = rows[0];\n\n    return price.value/10000;\n}\n\nmodule.exports = fetchWaxUsd;\n\n\n"],"mappings":"AAAA,MAAMA,YAAY,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AAE9C,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;EAC5B,MAAMC,IAAI,GAAG,MAAMH,YAAY,CAAC;IAC5BI,IAAI,EAAE,cAAc;IACpBC,cAAc,EAAE,CAAC;IACjBC,IAAI,EAAE,IAAI;IACVC,QAAQ,EAAE,KAAK;IACfC,KAAK,EAAE,CAAC;IACRC,OAAO,EAAE,IAAI;IACbC,KAAK,EAAE,SAAS;IAChBC,KAAK,EAAE,YAAY;IACnBC,WAAW,EAAE;EACjB,CAAC,CAAC;EAEF,IAAIT,IAAI,CAACU,MAAM,KAAK,CAAC,EAAE;IACnB,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;EAClD;EAEA,MAAMC,KAAK,GAAGZ,IAAI,CAAC,CAAC,CAAC;EAErB,OAAOY,KAAK,CAACC,KAAK,GAAC,KAAK;AAC5B,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGhB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}