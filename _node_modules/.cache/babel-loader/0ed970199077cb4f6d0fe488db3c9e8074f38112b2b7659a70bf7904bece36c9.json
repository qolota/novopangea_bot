{"ast":null,"code":"import _regeneratorRuntime from\"/Users/germangurov/projects/wax_bot/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/germangurov/projects/wax_bot/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var fetchExchange=require('./fetchExchange');var fetchNovoPrice=require('./fetchNovoPrice');var fetchAccountBuildings=require('./fetchAccountBuildings');var fetchAccountWorkers=require('./fetchAccountWorkers');var fetchBuildings=require('./fetchBuildings');var fetchWorkerConfigs=require('./fetchWorkerConfigs');var fetchDistricts=require('./fetchDistricts');var fetchRealms=require('./fetchRealms');var fetchBuildingConfigs=require('./fetchBuildingConfigs');var fetchLands=require('./fetchLands');var fetchLandConfigs=require('./fetchLandConfigs');var fetchSpeedupConfigs=require('./fetchSpeedupConfigs');var fetchAccountTransfers=require('./fetchAccountTransfers');var fetchAccounts=require('./fetchAccounts');var fetchWorkers=require('./fetchWorkers');var fetchAccountLands=require('./fetchAccountLands');var fetchOngoingUpgrades=require('./fetchOngoingUpgrades');var fetchUpgradeConfigs=require('./fetchUpgradeConfigs');var fetchAllGameData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var accountName,exchange,novoPrice,accounts,account,landConfigs,buildingConfigs,workerConfigs,speedupConfigs,accountTransfers,realms,districts,upgradeConfigs,upgrades,lands,accountLands,buildings,accountBuildings,workers,accountWorkers;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:accountName=_ref.accountName;_context.next=3;return fetchExchange();case 3:exchange=_context.sent;_context.next=6;return fetchNovoPrice();case 6:novoPrice=_context.sent;_context.next=9;return fetchAccounts({cache:{exchange:exchange,novoPrice:novoPrice}});case 9:accounts=_context.sent;account=accounts.find(function(account){return account.accountName===accountName;});// configs\n_context.next=13;return fetchLandConfigs({cache:{exchange:exchange,novoPrice:novoPrice}});case 13:landConfigs=_context.sent;_context.next=16;return fetchBuildingConfigs({cache:{exchange:exchange,novoPrice:novoPrice}});case 16:buildingConfigs=_context.sent;_context.next=19;return fetchWorkerConfigs({cache:{exchange:exchange,novoPrice:novoPrice}});case 19:workerConfigs=_context.sent;_context.next=22;return fetchSpeedupConfigs();case 22:speedupConfigs=_context.sent;_context.next=25;return fetchAccountTransfers({accountName:accountName,cache:{workerConfigs:workerConfigs,buildingConfigs:buildingConfigs,speedupConfigs:speedupConfigs}});case 25:accountTransfers=_context.sent;_context.next=28;return fetchRealms();case 28:realms=_context.sent;_context.next=31;return fetchDistricts({cache:{realms:realms}});case 31:districts=_context.sent;_context.next=34;return fetchUpgradeConfigs({cache:{exchange:exchange,novoPrice:novoPrice,realms:realms}});case 34:upgradeConfigs=_context.sent;_context.next=37;return fetchOngoingUpgrades({cache:{upgradeConfigs:upgradeConfigs}});case 37:upgrades=_context.sent;_context.next=40;return fetchLands({cache:{exchange:exchange,novoPrice:novoPrice,realms:realms,districts:districts,landConfigs:landConfigs}});case 40:lands=_context.sent;_context.next=43;return fetchAccountLands({accountName:accountName,cache:{lands:lands}});case 43:accountLands=_context.sent;_context.next=46;return fetchBuildings({cache:{exchange:exchange,novoPrice:novoPrice,buildingConfigs:buildingConfigs,workerConfigs:workerConfigs,landConfigs:landConfigs,districts:districts,lands:lands,accounts:accounts}});case 46:buildings=_context.sent;_context.next=49;return fetchAccountBuildings({accountName:accountName,cache:{buildings:buildings,workerConfigs:workerConfigs}});case 49:accountBuildings=_context.sent;_context.next=52;return fetchWorkers({cache:{buildingConfigs:buildingConfigs,workerConfigs:workerConfigs,districts:districts,buildings:buildings}});case 52:workers=_context.sent;_context.next=55;return fetchAccountWorkers({accountName:accountName,cache:{workers:workers,buildings:buildings,districts:districts,workerConfigs:workerConfigs,buildingConfigs:buildingConfigs,speedupConfigs:speedupConfigs,accountTransfers:accountTransfers,upgrades:upgrades}});case 55:accountWorkers=_context.sent;return _context.abrupt(\"return\",{exchange:exchange,novoPrice:novoPrice,accounts:accounts,account:account,landConfigs:landConfigs,buildingConfigs:buildingConfigs,workerConfigs:workerConfigs,speedupConfigs:speedupConfigs,realms:realms,districts:districts,lands:lands,buildings:buildings,workers:workers,accountTransfers:accountTransfers,accountLands:accountLands,accountBuildings:accountBuildings,accountWorkers:accountWorkers,upgradeConfigs:upgradeConfigs,upgrades:upgrades});case 57:case\"end\":return _context.stop();}},_callee);}));return function fetchAllGameData(_x){return _ref2.apply(this,arguments);};}();module.exports=fetchAllGameData;","map":{"version":3,"names":["fetchExchange","require","fetchNovoPrice","fetchAccountBuildings","fetchAccountWorkers","fetchBuildings","fetchWorkerConfigs","fetchDistricts","fetchRealms","fetchBuildingConfigs","fetchLands","fetchLandConfigs","fetchSpeedupConfigs","fetchAccountTransfers","fetchAccounts","fetchWorkers","fetchAccountLands","fetchOngoingUpgrades","fetchUpgradeConfigs","fetchAllGameData","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","accountName","exchange","novoPrice","accounts","account","landConfigs","buildingConfigs","workerConfigs","speedupConfigs","accountTransfers","realms","districts","upgradeConfigs","upgrades","lands","accountLands","buildings","accountBuildings","workers","accountWorkers","wrap","_callee$","_context","prev","next","sent","cache","find","abrupt","stop","_x","apply","arguments","module","exports"],"sources":["/Users/germangurov/projects/wax_bot/src/novopangea/api/fetchAllGameData.js"],"sourcesContent":["const fetchExchange = require('./fetchExchange');\nconst fetchNovoPrice = require('./fetchNovoPrice');\nconst fetchAccountBuildings = require('./fetchAccountBuildings');\nconst fetchAccountWorkers = require('./fetchAccountWorkers');\nconst fetchBuildings = require('./fetchBuildings');\nconst fetchWorkerConfigs = require('./fetchWorkerConfigs');\nconst fetchDistricts = require('./fetchDistricts');\nconst fetchRealms = require('./fetchRealms');\nconst fetchBuildingConfigs = require('./fetchBuildingConfigs');\nconst fetchLands = require('./fetchLands');\nconst fetchLandConfigs = require('./fetchLandConfigs');\nconst fetchSpeedupConfigs = require('./fetchSpeedupConfigs');\nconst fetchAccountTransfers = require('./fetchAccountTransfers');\nconst fetchAccounts = require('./fetchAccounts');\nconst fetchWorkers = require('./fetchWorkers');\nconst fetchAccountLands = require('./fetchAccountLands');\nconst fetchOngoingUpgrades = require('./fetchOngoingUpgrades');\nconst fetchUpgradeConfigs = require('./fetchUpgradeConfigs');\n\nconst fetchAllGameData = async ({\n    accountName,\n}) => {\n    // tokens\n    const exchange = await fetchExchange();\n    const novoPrice = await fetchNovoPrice();\n\n    // accounts\n    const accounts = await fetchAccounts({\n        cache: {\n            exchange,\n            novoPrice,\n        },\n    });\n    const account = accounts.find(account => account.accountName === accountName);\n\n    // configs\n    const landConfigs = await fetchLandConfigs({\n        cache: {\n            exchange,\n            novoPrice,\n        },\n    })\n    const buildingConfigs = await fetchBuildingConfigs({\n        cache: {\n            exchange,\n            novoPrice,\n        },\n    });\n    const workerConfigs = await fetchWorkerConfigs({\n        cache: {\n            exchange,\n            novoPrice,\n        },\n    });\n    const speedupConfigs = await fetchSpeedupConfigs();\n\n    // assets staked in game\n    const accountTransfers = await fetchAccountTransfers({\n        accountName,\n        cache: {\n            workerConfigs,\n            buildingConfigs,\n            speedupConfigs,\n        },\n    });\n\n    // map\n    const realms = await fetchRealms();\n    const districts = await fetchDistricts({\n        cache: {\n            realms,\n        },\n    });\n\n    // upgrades\n    const upgradeConfigs = await fetchUpgradeConfigs({\n        cache: {\n            exchange,\n            novoPrice,\n            realms,\n        },\n    });\n    const upgrades = await fetchOngoingUpgrades({\n        cache: {\n            upgradeConfigs,\n        }\n    });\n\n    // lands\n    const lands = await fetchLands({\n        cache: {\n            exchange,\n            novoPrice,\n            realms,\n            districts,\n            landConfigs,\n        },\n    });\n    const accountLands = await fetchAccountLands({\n        accountName,\n        cache: {\n            lands,\n        },\n    });\n\n    // buildings\n    const buildings = await fetchBuildings({\n        cache: {\n            exchange,\n            novoPrice,\n            buildingConfigs,\n            workerConfigs,\n            landConfigs,\n            districts,\n            lands,\n            accounts,\n        },\n    });\n    const accountBuildings = await fetchAccountBuildings({\n        accountName,\n        cache: {\n            buildings,\n            workerConfigs,\n        },\n    });\n\n    // workers\n    const workers = await fetchWorkers({\n        cache: {\n            buildingConfigs,\n            workerConfigs,\n            districts,\n            buildings,\n        },\n    });\n    const accountWorkers = await fetchAccountWorkers({\n        accountName,\n        cache: {\n            workers,\n            buildings,\n            districts,\n            workerConfigs,\n            buildingConfigs,\n            speedupConfigs,\n            accountTransfers,\n            upgrades,\n        },\n    });\n\n    return {\n        exchange,\n        novoPrice,\n        accounts,\n        account,\n        landConfigs,\n        buildingConfigs,\n        workerConfigs,\n        speedupConfigs,\n        realms,\n        districts,\n        lands,\n        buildings,\n        workers,\n        accountTransfers,\n        accountLands,\n        accountBuildings,\n        accountWorkers,\n        upgradeConfigs,\n        upgrades,\n    };\n};\n\nmodule.exports = fetchAllGameData;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}