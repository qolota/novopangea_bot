{"ast":null,"code":"const fetchLastClaimTokensTime = require(\"./api/fetchLastClaimTokensTime\");\nconst claimTokens = require('./actions/claimTokens');\nconst WAITING_TIME = 1 * 60 * 60 * 1000;\nconst claimCalcNextAction = async ({\n  accountName\n}) => {\n  const lastClaimTime = await fetchLastClaimTokensTime({\n    accountName\n  });\n  if (Date.now() - lastClaimTime > WAITING_TIME) {\n    return {\n      action: 'claim',\n      actions: claimTokens({\n        accountName\n      }),\n      message: `Ready to claim, last claimed at ${new Date(lastClaimTime)}`\n    };\n  }\n  return {\n    action: 'wait',\n    message: `Claimed already`\n  };\n};\nmodule.exports = claimCalcNextAction;","map":{"version":3,"names":["fetchLastClaimTokensTime","require","claimTokens","WAITING_TIME","claimCalcNextAction","accountName","lastClaimTime","Date","now","action","actions","message","module","exports"],"sources":["/Users/germangurov/projects/wax_bot/src/beastgarden/tokens/claimCalcNextAction.js"],"sourcesContent":["const fetchLastClaimTokensTime = require(\"./api/fetchLastClaimTokensTime\");\nconst claimTokens = require('./actions/claimTokens');\n\nconst WAITING_TIME = 1 * 60 * 60 * 1000;\n\nconst claimCalcNextAction = async ({\n    accountName,\n}) => {\n    const lastClaimTime = await fetchLastClaimTokensTime({\n        accountName,\n    });\n    \n    if ((Date.now() - lastClaimTime) > WAITING_TIME) {\n        return {\n            action: 'claim',\n            actions: claimTokens({\n                accountName,\n            }),\n            message: `Ready to claim, last claimed at ${new Date(lastClaimTime)}`,\n        };\n    }\n\n    return {\n        action: 'wait',\n        message: `Claimed already`,\n    };\n};\n\nmodule.exports = claimCalcNextAction;"],"mappings":"AAAA,MAAMA,wBAAwB,GAAGC,OAAO,CAAC,gCAAgC,CAAC;AAC1E,MAAMC,WAAW,GAAGD,OAAO,CAAC,uBAAuB,CAAC;AAEpD,MAAME,YAAY,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI;AAEvC,MAAMC,mBAAmB,GAAG,MAAAA,CAAO;EAC/BC;AACJ,CAAC,KAAK;EACF,MAAMC,aAAa,GAAG,MAAMN,wBAAwB,CAAC;IACjDK;EACJ,CAAC,CAAC;EAEF,IAAKE,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGF,aAAa,GAAIH,YAAY,EAAE;IAC7C,OAAO;MACHM,MAAM,EAAE,OAAO;MACfC,OAAO,EAAER,WAAW,CAAC;QACjBG;MACJ,CAAC,CAAC;MACFM,OAAO,EAAG,mCAAkC,IAAIJ,IAAI,CAACD,aAAa,CAAE;IACxE,CAAC;EACL;EAEA,OAAO;IACHG,MAAM,EAAE,MAAM;IACdE,OAAO,EAAG;EACd,CAAC;AACL,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGT,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}