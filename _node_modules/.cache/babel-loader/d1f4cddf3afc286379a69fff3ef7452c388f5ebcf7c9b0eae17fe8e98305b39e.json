{"ast":null,"code":"const _ = require('lodash');\nconst TT_JAILED_DRIVERS = require('../consts/TT_JAILED_DRIVERS');\nconst fastestTeams = require('../data/fastest-teams-1685550723508.json');\nconst getThisWeekFastestTTTeams = () => {\n  const now = Date.now();\n  const thisWeekJailedDrivers = TT_JAILED_DRIVERS.find(week => {\n    return now > week.timeStart && now < week.timeEnd;\n  });\n  if (thisWeekJailedDrivers == null) {\n    return null;\n  }\n  const jailedDrivers = thisWeekJailedDrivers.jailedDrivers;\n  const teams = _(fastestTeams).map(team => ({\n    ...team,\n    driverNames: team.teamName.split('+').slice(1)\n  })).filter(team => {\n    return _.every(team.driverNames, driverName => !jailedDrivers.includes(driverName));\n  }).sortBy(team => {\n    return -team.winP;\n  }).value();\n  return teams;\n};\nmodule.exports = getThisWeekFastestTTTeams;","map":{"version":3,"names":["_","require","TT_JAILED_DRIVERS","fastestTeams","getThisWeekFastestTTTeams","now","Date","thisWeekJailedDrivers","find","week","timeStart","timeEnd","jailedDrivers","teams","map","team","driverNames","teamName","split","slice","filter","every","driverName","includes","sortBy","winP","value","module","exports"],"sources":["/Users/germangurov/projects/wax_bot/src/novarallywax/utils/getThisWeekFastestTTTeams.js"],"sourcesContent":["const _ = require('lodash');\nconst TT_JAILED_DRIVERS = require('../consts/TT_JAILED_DRIVERS');\nconst fastestTeams = require('../data/fastest-teams-1685550723508.json');\n\nconst getThisWeekFastestTTTeams = () => {\n    const now = Date.now();\n    const thisWeekJailedDrivers = TT_JAILED_DRIVERS.find(week => {\n        return now > week.timeStart && now < week.timeEnd;\n    });\n\n    if (thisWeekJailedDrivers == null) {\n        return null;\n    }\n    const jailedDrivers = thisWeekJailedDrivers.jailedDrivers;\n\n    const teams = _(fastestTeams)\n        .map(team => ({\n            ...team,\n            driverNames: team.teamName.split('+').slice(1),\n        }))\n        .filter(team => {\n            return _.every(team.driverNames, (driverName) => !jailedDrivers.includes(driverName));\n        })\n        .sortBy(team => {\n            return -team.winP;\n        })\n        .value();\n    \n    return teams;\n};\n\nmodule.exports = getThisWeekFastestTTTeams;\n"],"mappings":"AAAA,MAAMA,CAAC,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAC3B,MAAMC,iBAAiB,GAAGD,OAAO,CAAC,6BAA6B,CAAC;AAChE,MAAME,YAAY,GAAGF,OAAO,CAAC,0CAA0C,CAAC;AAExE,MAAMG,yBAAyB,GAAGA,CAAA,KAAM;EACpC,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,CAAC;EACtB,MAAME,qBAAqB,GAAGL,iBAAiB,CAACM,IAAI,CAACC,IAAI,IAAI;IACzD,OAAOJ,GAAG,GAAGI,IAAI,CAACC,SAAS,IAAIL,GAAG,GAAGI,IAAI,CAACE,OAAO;EACrD,CAAC,CAAC;EAEF,IAAIJ,qBAAqB,IAAI,IAAI,EAAE;IAC/B,OAAO,IAAI;EACf;EACA,MAAMK,aAAa,GAAGL,qBAAqB,CAACK,aAAa;EAEzD,MAAMC,KAAK,GAAGb,CAAC,CAACG,YAAY,CAAC,CACxBW,GAAG,CAACC,IAAI,KAAK;IACV,GAAGA,IAAI;IACPC,WAAW,EAAED,IAAI,CAACE,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,KAAK,CAAC,CAAC;EACjD,CAAC,CAAC,CAAC,CACFC,MAAM,CAACL,IAAI,IAAI;IACZ,OAAOf,CAAC,CAACqB,KAAK,CAACN,IAAI,CAACC,WAAW,EAAGM,UAAU,IAAK,CAACV,aAAa,CAACW,QAAQ,CAACD,UAAU,CAAC,CAAC;EACzF,CAAC,CAAC,CACDE,MAAM,CAACT,IAAI,IAAI;IACZ,OAAO,CAACA,IAAI,CAACU,IAAI;EACrB,CAAC,CAAC,CACDC,KAAK,CAAC,CAAC;EAEZ,OAAOb,KAAK;AAChB,CAAC;AAEDc,MAAM,CAACC,OAAO,GAAGxB,yBAAyB"},"metadata":{},"sourceType":"module","externalDependencies":[]}