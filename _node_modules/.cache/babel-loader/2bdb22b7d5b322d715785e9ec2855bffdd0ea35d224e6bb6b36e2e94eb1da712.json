{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/germangurov/projects/wax_bot/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _classCallCheck = require(\"/Users/germangurov/projects/wax_bot/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/germangurov/projects/wax_bot/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WaxEventSource = void 0;\nvar WaxEventSource = /*#__PURE__*/function () {\n  function WaxEventSource(waxSigningURL) {\n    var _this = this;\n    _classCallCheck(this, WaxEventSource);\n    this.waxSigningURL = waxSigningURL;\n    this.timeout = function () {\n      return __awaiter(_this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", new Promise(function (_, reject) {\n                return setTimeout(function () {\n                  return reject(new Error(\"Timeout\"));\n                }, 5000);\n              }));\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n    };\n    this.openEventSource = this.openEventSource.bind(this);\n    this.onceEvent = this.onceEvent.bind(this);\n  }\n  _createClass(WaxEventSource, [{\n    key: \"openPopup\",\n    value: function openPopup(url) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var win;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return window.open(url, \"WaxPopup\", \"height=800,width=600\");\n            case 2:\n              win = _context2.sent;\n              if (!win) {\n                _context2.next = 5;\n                break;\n              }\n              return _context2.abrupt(\"return\", win);\n            case 5:\n              throw new Error(\"Unable to open popup window\");\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n    }\n  }, {\n    key: \"openEventSource\",\n    value: function openEventSource(url, message, win) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var _this2 = this;\n        var openedWindow, postTransaction, eventPromise;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!win) {\n                _context4.next = 4;\n                break;\n              }\n              _context4.t0 = win;\n              _context4.next = 7;\n              break;\n            case 4:\n              _context4.next = 6;\n              return this.openPopup(url);\n            case 6:\n              _context4.t0 = _context4.sent;\n            case 7:\n              openedWindow = _context4.t0;\n              if (openedWindow) {\n                _context4.next = 10;\n                break;\n              }\n              throw new Error(\"Unable to open a popup window\");\n            case 10:\n              if (!(typeof message === \"undefined\")) {\n                _context4.next = 12;\n                break;\n              }\n              return _context4.abrupt(\"return\", openedWindow);\n            case 12:\n              postTransaction = function postTransaction(event) {\n                return __awaiter(_this2, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n                  return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n                    while (1) switch (_context3.prev = _context3.next) {\n                      case 0:\n                        if (event.data.type === \"READY\") {\n                          openedWindow.postMessage(message, this.waxSigningURL);\n                        }\n                      case 1:\n                      case \"end\":\n                        return _context3.stop();\n                    }\n                  }, _callee3, this);\n                }));\n              };\n              eventPromise = this.onceEvent(openedWindow, this.waxSigningURL, postTransaction, \"READY\");\n              _context4.next = 16;\n              return Promise.race([eventPromise, this.timeout()]).catch(function (err) {\n                if (err.message !== \"Timeout\") {\n                  throw err;\n                }\n                openedWindow.postMessage(message, _this2.waxSigningURL);\n              });\n            case 16:\n              return _context4.abrupt(\"return\", openedWindow);\n            case 17:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, this);\n      }));\n    }\n  }, {\n    key: \"onceEvent\",\n    value: function onceEvent(source, origin, action, type) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              return _context6.abrupt(\"return\", new Promise(function (resolve, reject) {\n                var resolved = false;\n                window.addEventListener(\"message\", function onEvent(event) {\n                  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n                    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n                      while (1) switch (_context5.prev = _context5.next) {\n                        case 0:\n                          if (!(event.origin !== origin)) {\n                            _context5.next = 2;\n                            break;\n                          }\n                          return _context5.abrupt(\"return\");\n                        case 2:\n                          if (!(event.source !== source)) {\n                            _context5.next = 4;\n                            break;\n                          }\n                          return _context5.abrupt(\"return\");\n                        case 4:\n                          if (!(typeof event.data !== \"object\")) {\n                            _context5.next = 6;\n                            break;\n                          }\n                          return _context5.abrupt(\"return\");\n                        case 6:\n                          if (!(type && (!event.data.type || event.data.type !== type))) {\n                            _context5.next = 8;\n                            break;\n                          }\n                          return _context5.abrupt(\"return\");\n                        case 8:\n                          _context5.prev = 8;\n                          resolved = true;\n                          _context5.t0 = resolve;\n                          _context5.next = 13;\n                          return action(event);\n                        case 13:\n                          _context5.t1 = _context5.sent;\n                          (0, _context5.t0)(_context5.t1);\n                          _context5.next = 21;\n                          break;\n                        case 17:\n                          _context5.prev = 17;\n                          _context5.t2 = _context5[\"catch\"](8);\n                          resolved = true;\n                          reject(_context5.t2);\n                        case 21:\n                          window.removeEventListener(\"message\", onEvent, false);\n                        case 22:\n                        case \"end\":\n                          return _context5.stop();\n                      }\n                    }, _callee5, null, [[8, 17]]);\n                  }));\n                }, false);\n                var interval = setInterval(function () {\n                  if (source.closed && !resolved) {\n                    clearInterval(interval);\n                    reject(\"user closed the window\");\n                  }\n                }, 1000);\n              }));\n            case 1:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6);\n      }));\n    }\n  }]);\n  return WaxEventSource;\n}();\nexports.WaxEventSource = WaxEventSource;","map":{"version":3,"names":["_regeneratorRuntime","require","default","_classCallCheck","_createClass","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","WaxEventSource","waxSigningURL","_this","timeout","mark","_callee","wrap","_callee$","_context","prev","abrupt","_","setTimeout","Error","stop","openEventSource","bind","onceEvent","key","openPopup","url","_callee2","win","_callee2$","_context2","window","open","sent","message","_callee4","_this2","openedWindow","postTransaction","eventPromise","_callee4$","_context4","t0","event","_callee3","_callee3$","_context3","data","type","postMessage","race","catch","err","source","origin","action","_callee6","_callee6$","_context6","resolved","addEventListener","onEvent","_callee5","_callee5$","_context5","t1","t2","removeEventListener","interval","setInterval","closed","clearInterval"],"sources":["/Users/germangurov/projects/wax_bot/node_modules/@waxio/waxjs/dist/WaxEventSource.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WaxEventSource = void 0;\nclass WaxEventSource {\n    constructor(waxSigningURL) {\n        this.waxSigningURL = waxSigningURL;\n        this.timeout = () => __awaiter(this, void 0, void 0, function* () {\n            return new Promise((_, reject) => setTimeout(() => reject(new Error(\"Timeout\")), 5000));\n        });\n        this.openEventSource = this.openEventSource.bind(this);\n        this.onceEvent = this.onceEvent.bind(this);\n    }\n    openPopup(url) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const win = yield window.open(url, \"WaxPopup\", \"height=800,width=600\");\n            if (win) {\n                return win;\n            }\n            throw new Error(\"Unable to open popup window\");\n        });\n    }\n    openEventSource(url, message, win) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const openedWindow = win ? win : yield this.openPopup(url);\n            if (!openedWindow) {\n                throw new Error(\"Unable to open a popup window\");\n            }\n            if (typeof message === \"undefined\") {\n                return openedWindow;\n            }\n            const postTransaction = (event) => __awaiter(this, void 0, void 0, function* () {\n                if (event.data.type === \"READY\") {\n                    openedWindow.postMessage(message, this.waxSigningURL);\n                }\n            });\n            const eventPromise = this.onceEvent(openedWindow, this.waxSigningURL, postTransaction, \"READY\");\n            yield Promise.race([eventPromise, this.timeout()]).catch(err => {\n                if (err.message !== \"Timeout\") {\n                    throw err;\n                }\n                openedWindow.postMessage(message, this.waxSigningURL);\n            });\n            return openedWindow;\n        });\n    }\n    onceEvent(source, origin, action, type) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                let resolved = false;\n                window.addEventListener(\"message\", function onEvent(event) {\n                    return __awaiter(this, void 0, void 0, function* () {\n                        if (event.origin !== origin) {\n                            return;\n                        }\n                        if (event.source !== source) {\n                            return;\n                        }\n                        if (typeof event.data !== \"object\") {\n                            return;\n                        }\n                        if (type && (!event.data.type || event.data.type !== type)) {\n                            return;\n                        }\n                        try {\n                            resolved = true;\n                            resolve(yield action(event));\n                        }\n                        catch (e) {\n                            resolved = true;\n                            reject(e);\n                        }\n                        window.removeEventListener(\"message\", onEvent, false);\n                    });\n                }, false);\n                const interval = setInterval(() => {\n                    if (source.closed && !resolved) {\n                        clearInterval(interval);\n                        reject(\"user closed the window\");\n                    }\n                }, 1000);\n            });\n        });\n    }\n}\nexports.WaxEventSource = WaxEventSource;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}