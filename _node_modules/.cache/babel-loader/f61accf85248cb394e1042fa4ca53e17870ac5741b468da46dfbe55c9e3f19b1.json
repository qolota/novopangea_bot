{"ast":null,"code":"import _regeneratorRuntime from\"/Users/germangurov/projects/wax_bot/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/germangurov/projects/wax_bot/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var fetchAllWaxData2=require('../../core/fetchAllWaxData2');var CONTRACTS=require('../consts/CONTRACTS');var fetchTownhallAccounts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var townhallAccounts;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetchAllWaxData2({params:{code:CONTRACTS.GAME,scope:CONTRACTS.GAME,table:'townhalluser'},customProcessor:function customProcessor(_ref2){var row=_ref2.row;return{id:row.id,accountName:row.account,districtId:row.district_id,stakedNovo:Number(row.staked.split(' ')[0]),nextWithdrawTime:row.next_withdraw*1000};}});case 2:townhallAccounts=_context.sent;return _context.abrupt(\"return\",townhallAccounts);case 4:case\"end\":return _context.stop();}},_callee);}));return function fetchTownhallAccounts(){return _ref.apply(this,arguments);};}();module.exports=fetchTownhallAccounts;","map":{"version":3,"names":["fetchAllWaxData2","require","CONTRACTS","fetchTownhallAccounts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","townhallAccounts","wrap","_callee$","_context","prev","next","params","code","GAME","scope","table","customProcessor","_ref2","row","id","accountName","account","districtId","district_id","stakedNovo","Number","staked","split","nextWithdrawTime","next_withdraw","sent","abrupt","stop","apply","arguments","module","exports"],"sources":["/Users/germangurov/projects/wax_bot/src/novopangea/api/fetchTownhallAccounts.js"],"sourcesContent":["const fetchAllWaxData2 = require('../../core/fetchAllWaxData2');\nconst CONTRACTS = require('../consts/CONTRACTS');\n\nconst fetchTownhallAccounts = async () => {\n    const townhallAccounts = await fetchAllWaxData2({\n        params: {\n            code: CONTRACTS.GAME,\n            scope: CONTRACTS.GAME,\n            table: 'townhalluser',\n        },\n        customProcessor: ({row}) => ({\n            id: row.id,\n            accountName: row.account,\n            districtId: row.district_id,\n            stakedNovo: Number(row.staked.split(' ')[0]),\n            nextWithdrawTime: row.next_withdraw * 1000,\n        }),\n    });\n\n    return townhallAccounts;\n};\n\nmodule.exports = fetchTownhallAccounts;"],"mappings":"kQAAA,GAAM,CAAAA,gBAAgB,CAAGC,OAAO,CAAC,6BAA6B,CAAC,CAC/D,GAAM,CAAAC,SAAS,CAAGD,OAAO,CAAC,qBAAqB,CAAC,CAEhD,GAAM,CAAAE,qBAAqB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,gBAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACK,CAAAd,gBAAgB,CAAC,CAC5Ce,MAAM,CAAE,CACJC,IAAI,CAAEd,SAAS,CAACe,IAAI,CACpBC,KAAK,CAAEhB,SAAS,CAACe,IAAI,CACrBE,KAAK,CAAE,cACX,CAAC,CACDC,eAAe,CAAE,SAAAA,gBAAAC,KAAA,KAAE,CAAAC,GAAG,CAAAD,KAAA,CAAHC,GAAG,OAAO,CACzBC,EAAE,CAAED,GAAG,CAACC,EAAE,CACVC,WAAW,CAAEF,GAAG,CAACG,OAAO,CACxBC,UAAU,CAAEJ,GAAG,CAACK,WAAW,CAC3BC,UAAU,CAAEC,MAAM,CAACP,GAAG,CAACQ,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAC5CC,gBAAgB,CAAEV,GAAG,CAACW,aAAa,CAAG,IAC1C,CAAC,EACL,CAAC,CAAC,QAbIxB,gBAAgB,CAAAG,QAAA,CAAAsB,IAAA,QAAAtB,QAAA,CAAAuB,MAAA,UAef1B,gBAAgB,0BAAAG,QAAA,CAAAwB,IAAA,MAAA5B,OAAA,GAC1B,kBAjBK,CAAAL,qBAAqBA,CAAA,SAAAC,IAAA,CAAAiC,KAAA,MAAAC,SAAA,OAiB1B,CAEDC,MAAM,CAACC,OAAO,CAAGrC,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}