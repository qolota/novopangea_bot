{"ast":null,"code":"const _ = require('lodash');\nconst CONTRACTS = require('../../consts/CONTRACTS');\nconst harvestFruits = ({\n  accountName,\n  waterPrice,\n  plantId\n}) => {\n  return _.compact([waterPrice === 0 ? null : {\n    account: CONTRACTS.TOKENS,\n    name: 'transfer',\n    authorization: [{\n      actor: accountName,\n      permission: 'active'\n    }],\n    data: {\n      from: accountName,\n      to: CONTRACTS.HARVESTING,\n      quantity: `${waterPrice.toFixed(4)} BGWATER`,\n      memo: `water-${plantId}`\n    }\n  }, {\n    account: CONTRACTS.HARVESTING,\n    name: 'harvestpls',\n    authorization: [{\n      actor: accountName,\n      permission: 'active'\n    }],\n    data: {\n      user: accountName,\n      plant_ids: [plantId]\n    }\n  }]);\n};\nmodule.exports = harvestFruits;","map":{"version":3,"names":["_","require","CONTRACTS","harvestFruits","accountName","waterPrice","plantId","compact","account","TOKENS","name","authorization","actor","permission","data","from","to","HARVESTING","quantity","toFixed","memo","user","plant_ids","module","exports"],"sources":["/Users/germangurov/projects/wax_bot/src/beastgarden/plants/actions/harvestFruits.js"],"sourcesContent":["const _ = require('lodash');\nconst CONTRACTS = require('../../consts/CONTRACTS');\n\nconst harvestFruits = ({\n    accountName,\n    waterPrice,\n    plantId,\n}) => {\n    return _.compact([\n        waterPrice === 0\n          ? null\n          : {\n            account: CONTRACTS.TOKENS,\n            name: 'transfer',\n            authorization: [\n                {\n                    actor: accountName,\n                    permission: 'active',\n                },\n            ],\n            data: {\n                from: accountName,\n                to: CONTRACTS.HARVESTING,\n                quantity: `${waterPrice.toFixed(4)} BGWATER`,\n                memo: `water-${plantId}`,\n            },\n          },\n        {\n          account: CONTRACTS.HARVESTING,\n          name: 'harvestpls',\n          authorization: [\n            {\n              actor: accountName,\n              permission: 'active',\n            },\n          ],\n          data: {\n            user: accountName,\n            plant_ids: [plantId],\n          },\n        },\n    ]);\n};\n\nmodule.exports = harvestFruits;"],"mappings":"AAAA,MAAMA,CAAC,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAC3B,MAAMC,SAAS,GAAGD,OAAO,CAAC,wBAAwB,CAAC;AAEnD,MAAME,aAAa,GAAGA,CAAC;EACnBC,WAAW;EACXC,UAAU;EACVC;AACJ,CAAC,KAAK;EACF,OAAON,CAAC,CAACO,OAAO,CAAC,CACbF,UAAU,KAAK,CAAC,GACZ,IAAI,GACJ;IACAG,OAAO,EAAEN,SAAS,CAACO,MAAM;IACzBC,IAAI,EAAE,UAAU;IAChBC,aAAa,EAAE,CACX;MACIC,KAAK,EAAER,WAAW;MAClBS,UAAU,EAAE;IAChB,CAAC,CACJ;IACDC,IAAI,EAAE;MACFC,IAAI,EAAEX,WAAW;MACjBY,EAAE,EAAEd,SAAS,CAACe,UAAU;MACxBC,QAAQ,EAAG,GAAEb,UAAU,CAACc,OAAO,CAAC,CAAC,CAAE,UAAS;MAC5CC,IAAI,EAAG,SAAQd,OAAQ;IAC3B;EACF,CAAC,EACH;IACEE,OAAO,EAAEN,SAAS,CAACe,UAAU;IAC7BP,IAAI,EAAE,YAAY;IAClBC,aAAa,EAAE,CACb;MACEC,KAAK,EAAER,WAAW;MAClBS,UAAU,EAAE;IACd,CAAC,CACF;IACDC,IAAI,EAAE;MACJO,IAAI,EAAEjB,WAAW;MACjBkB,SAAS,EAAE,CAAChB,OAAO;IACrB;EACF,CAAC,CACJ,CAAC;AACN,CAAC;AAEDiB,MAAM,CAACC,OAAO,GAAGrB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}