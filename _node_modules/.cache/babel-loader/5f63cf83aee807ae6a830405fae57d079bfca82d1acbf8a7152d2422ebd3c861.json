{"ast":null,"code":"const _ = require('lodash');\nconst getExchangeRate = ({\n  exchange,\n  resources,\n  exchangeStrategy\n}) => {\n  return _(resources).map(r => {\n    const symbolFrom = exchangeStrategy[r.symbol];\n    const resourceExchange = exchange.find(e => e.from === symbolFrom && e.to === r.symbol);\n    return {\n      valueFrom: _.ceil(r.value / resourceExchange.rate),\n      symbolFrom,\n      valueTo: r.value,\n      symbolTo: r.symbol\n    };\n  }).value();\n};\nmodule.exports = getExchangeRate;","map":{"version":3,"names":["_","require","getExchangeRate","exchange","resources","exchangeStrategy","map","r","symbolFrom","symbol","resourceExchange","find","e","from","to","valueFrom","ceil","value","rate","valueTo","symbolTo","module","exports"],"sources":["/Users/germangurov/projects/wax_bot/src/novopangea/utils/getExchangeRate.js"],"sourcesContent":["const _ = require('lodash');\n\nconst getExchangeRate = ({\n    exchange,\n    resources,\n    exchangeStrategy,\n}) => {\n    return _(resources)\n        .map(r => {\n            const symbolFrom = exchangeStrategy[r.symbol];\n            const resourceExchange = exchange.find(e => e.from === symbolFrom && e.to === r.symbol);\n\n            return {\n                valueFrom: _.ceil(r.value / resourceExchange.rate),\n                symbolFrom,\n                valueTo: r.value,\n                symbolTo: r.symbol,\n            };\n        })\n        .value();\n};\n\nmodule.exports = getExchangeRate;"],"mappings":"AAAA,MAAMA,CAAC,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAE3B,MAAMC,eAAe,GAAGA,CAAC;EACrBC,QAAQ;EACRC,SAAS;EACTC;AACJ,CAAC,KAAK;EACF,OAAOL,CAAC,CAACI,SAAS,CAAC,CACdE,GAAG,CAACC,CAAC,IAAI;IACN,MAAMC,UAAU,GAAGH,gBAAgB,CAACE,CAAC,CAACE,MAAM,CAAC;IAC7C,MAAMC,gBAAgB,GAAGP,QAAQ,CAACQ,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKL,UAAU,IAAII,CAAC,CAACE,EAAE,KAAKP,CAAC,CAACE,MAAM,CAAC;IAEvF,OAAO;MACHM,SAAS,EAAEf,CAAC,CAACgB,IAAI,CAACT,CAAC,CAACU,KAAK,GAAGP,gBAAgB,CAACQ,IAAI,CAAC;MAClDV,UAAU;MACVW,OAAO,EAAEZ,CAAC,CAACU,KAAK;MAChBG,QAAQ,EAAEb,CAAC,CAACE;IAChB,CAAC;EACL,CAAC,CAAC,CACDQ,KAAK,CAAC,CAAC;AAChB,CAAC;AAEDI,MAAM,CAACC,OAAO,GAAGpB,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}