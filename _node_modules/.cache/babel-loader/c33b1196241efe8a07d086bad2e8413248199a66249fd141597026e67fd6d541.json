{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst Schema_1 = require(\"../../Schema\");\nconst Collection_1 = __importDefault(require(\"./Collection\"));\nclass RpcSchema {\n  constructor(api, collection, name, data, cache = true) {\n    this.api = api;\n    this.collection = collection;\n    this.name = name;\n    this._data = new Promise(async (resolve, reject) => {\n      if (data) {\n        resolve(data);\n      } else {\n        try {\n          resolve(await api.queue.fetchSchema(collection, name, cache));\n        } catch (e) {\n          reject(e);\n        }\n      }\n    });\n    this._collection = new Promise(async (resolve, reject) => {\n      try {\n        resolve(new Collection_1.default(api, collection, undefined, cache));\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n  async format() {\n    return (0, Schema_1.ObjectSchema)((await this._data).format);\n  }\n  async rawFormat() {\n    return (await this._data).format;\n  }\n  async toObject() {\n    return {\n      collection_name: this.collection,\n      schema_name: this.name,\n      format: await this.rawFormat()\n    };\n  }\n}\nexports.default = RpcSchema;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","Schema_1","require","Collection_1","RpcSchema","constructor","api","collection","name","data","cache","_data","Promise","resolve","reject","queue","fetchSchema","e","_collection","default","undefined","format","ObjectSchema","rawFormat","toObject","collection_name","schema_name"],"sources":["/Users/germangurov/projects/wax_bot/node_modules/atomicassets/build/API/Rpc/Schema.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Schema_1 = require(\"../../Schema\");\nconst Collection_1 = __importDefault(require(\"./Collection\"));\nclass RpcSchema {\n    constructor(api, collection, name, data, cache = true) {\n        this.api = api;\n        this.collection = collection;\n        this.name = name;\n        this._data = new Promise(async (resolve, reject) => {\n            if (data) {\n                resolve(data);\n            }\n            else {\n                try {\n                    resolve(await api.queue.fetchSchema(collection, name, cache));\n                }\n                catch (e) {\n                    reject(e);\n                }\n            }\n        });\n        this._collection = new Promise(async (resolve, reject) => {\n            try {\n                resolve(new Collection_1.default(api, collection, undefined, cache));\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    }\n    async format() {\n        return (0, Schema_1.ObjectSchema)((await this._data).format);\n    }\n    async rawFormat() {\n        return (await this._data).format;\n    }\n    async toObject() {\n        return {\n            collection_name: this.collection,\n            schema_name: this.name,\n            format: await this.rawFormat()\n        };\n    }\n}\nexports.default = RpcSchema;\n"],"mappings":"AAAA,YAAY;;AACZ,IAAIA,eAAe,GAAI,IAAI,IAAI,IAAI,CAACA,eAAe,IAAK,UAAUC,GAAG,EAAE;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAID,GAAG,GAAG;IAAE,SAAS,EAAEA;EAAI,CAAC;AAC7D,CAAC;AACDE,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,MAAMC,QAAQ,GAAGC,OAAO,CAAC,cAAc,CAAC;AACxC,MAAMC,YAAY,GAAGT,eAAe,CAACQ,OAAO,CAAC,cAAc,CAAC,CAAC;AAC7D,MAAME,SAAS,CAAC;EACZC,WAAWA,CAACC,GAAG,EAAEC,UAAU,EAAEC,IAAI,EAAEC,IAAI,EAAEC,KAAK,GAAG,IAAI,EAAE;IACnD,IAAI,CAACJ,GAAG,GAAGA,GAAG;IACd,IAAI,CAACC,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACG,KAAK,GAAG,IAAIC,OAAO,CAAC,OAAOC,OAAO,EAAEC,MAAM,KAAK;MAChD,IAAIL,IAAI,EAAE;QACNI,OAAO,CAACJ,IAAI,CAAC;MACjB,CAAC,MACI;QACD,IAAI;UACAI,OAAO,CAAC,MAAMP,GAAG,CAACS,KAAK,CAACC,WAAW,CAACT,UAAU,EAAEC,IAAI,EAAEE,KAAK,CAAC,CAAC;QACjE,CAAC,CACD,OAAOO,CAAC,EAAE;UACNH,MAAM,CAACG,CAAC,CAAC;QACb;MACJ;IACJ,CAAC,CAAC;IACF,IAAI,CAACC,WAAW,GAAG,IAAIN,OAAO,CAAC,OAAOC,OAAO,EAAEC,MAAM,KAAK;MACtD,IAAI;QACAD,OAAO,CAAC,IAAIV,YAAY,CAACgB,OAAO,CAACb,GAAG,EAAEC,UAAU,EAAEa,SAAS,EAAEV,KAAK,CAAC,CAAC;MACxE,CAAC,CACD,OAAOO,CAAC,EAAE;QACNH,MAAM,CAACG,CAAC,CAAC;MACb;IACJ,CAAC,CAAC;EACN;EACA,MAAMI,MAAMA,CAAA,EAAG;IACX,OAAO,CAAC,CAAC,EAAEpB,QAAQ,CAACqB,YAAY,EAAE,CAAC,MAAM,IAAI,CAACX,KAAK,EAAEU,MAAM,CAAC;EAChE;EACA,MAAME,SAASA,CAAA,EAAG;IACd,OAAO,CAAC,MAAM,IAAI,CAACZ,KAAK,EAAEU,MAAM;EACpC;EACA,MAAMG,QAAQA,CAAA,EAAG;IACb,OAAO;MACHC,eAAe,EAAE,IAAI,CAAClB,UAAU;MAChCmB,WAAW,EAAE,IAAI,CAAClB,IAAI;MACtBa,MAAM,EAAE,MAAM,IAAI,CAACE,SAAS,CAAC;IACjC,CAAC;EACL;AACJ;AACAxB,OAAO,CAACoB,OAAO,GAAGf,SAAS"},"metadata":{},"sourceType":"script","externalDependencies":[]}