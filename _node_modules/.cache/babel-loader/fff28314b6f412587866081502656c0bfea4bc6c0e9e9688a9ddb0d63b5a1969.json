{"ast":null,"code":"const fetchAllWaxData2 = require('../../core/fetchAllWaxData2');\nconst fetchExchange = require('./fetchExchange');\nconst fetchNovoPrice = require('./fetchNovoPrice');\nconst convertAllCosts = require('../utils/convertAllCosts');\nconst CONTRACTS = require('../consts/CONTRACTS');\nconst fetchLandConfigs = async ({\n  cache = {}\n}) => {\n  const exchange = cache.exchange || (await fetchExchange());\n  const novoPrice = cache.novoPrice || (await fetchNovoPrice());\n  const configs = await fetchAllWaxData2({\n    params: {\n      code: CONTRACTS.GAME,\n      scope: CONTRACTS.GAME,\n      table: 'landcfg'\n    },\n    customProcessor: ({\n      row\n    }) => ({\n      id: row.id,\n      plotRentAmount: convertAllCosts({\n        costs: [row.plot_rent_amount],\n        exchange,\n        novoPrice\n      }),\n      rentTime: row.rent_time,\n      workerBufferTime: row.worker_buffer_time,\n      renewBufferTime: row.renew_buffer_time\n    })\n  });\n  return configs;\n};\nmodule.exports = fetchLandConfigs;","map":{"version":3,"names":["fetchAllWaxData2","require","fetchExchange","fetchNovoPrice","convertAllCosts","CONTRACTS","fetchLandConfigs","cache","exchange","novoPrice","configs","params","code","GAME","scope","table","customProcessor","row","id","plotRentAmount","costs","plot_rent_amount","rentTime","rent_time","workerBufferTime","worker_buffer_time","renewBufferTime","renew_buffer_time","module","exports"],"sources":["/Users/germangurov/projects/wax_bot/src/novopangea/api/fetchLandConfigs.js"],"sourcesContent":["const fetchAllWaxData2 = require('../../core/fetchAllWaxData2');\nconst fetchExchange = require('./fetchExchange');\nconst fetchNovoPrice = require('./fetchNovoPrice');\nconst convertAllCosts = require('../utils/convertAllCosts');\nconst CONTRACTS = require('../consts/CONTRACTS');\n\nconst fetchLandConfigs = async ({\n    cache = {},\n}) => {\n    const exchange = cache.exchange || await fetchExchange();\n    const novoPrice = cache.novoPrice || await fetchNovoPrice();\n    const configs = await fetchAllWaxData2({\n        params: {\n            code: CONTRACTS.GAME,\n            scope: CONTRACTS.GAME,\n            table: 'landcfg',\n        },\n        customProcessor: ({row}) => ({\n            id: row.id,\n            plotRentAmount: convertAllCosts({\n                costs: [row.plot_rent_amount],\n                exchange,\n                novoPrice,\n            }),\n            rentTime: row.rent_time,\n            workerBufferTime: row.worker_buffer_time,\n            renewBufferTime: row.renew_buffer_time,\n        }),\n    });\n\n    return configs;\n};\n\nmodule.exports = fetchLandConfigs;"],"mappings":"AAAA,MAAMA,gBAAgB,GAAGC,OAAO,CAAC,6BAA6B,CAAC;AAC/D,MAAMC,aAAa,GAAGD,OAAO,CAAC,iBAAiB,CAAC;AAChD,MAAME,cAAc,GAAGF,OAAO,CAAC,kBAAkB,CAAC;AAClD,MAAMG,eAAe,GAAGH,OAAO,CAAC,0BAA0B,CAAC;AAC3D,MAAMI,SAAS,GAAGJ,OAAO,CAAC,qBAAqB,CAAC;AAEhD,MAAMK,gBAAgB,GAAG,MAAAA,CAAO;EAC5BC,KAAK,GAAG,CAAC;AACb,CAAC,KAAK;EACF,MAAMC,QAAQ,GAAGD,KAAK,CAACC,QAAQ,KAAI,MAAMN,aAAa,CAAC,CAAC;EACxD,MAAMO,SAAS,GAAGF,KAAK,CAACE,SAAS,KAAI,MAAMN,cAAc,CAAC,CAAC;EAC3D,MAAMO,OAAO,GAAG,MAAMV,gBAAgB,CAAC;IACnCW,MAAM,EAAE;MACJC,IAAI,EAAEP,SAAS,CAACQ,IAAI;MACpBC,KAAK,EAAET,SAAS,CAACQ,IAAI;MACrBE,KAAK,EAAE;IACX,CAAC;IACDC,eAAe,EAAEA,CAAC;MAACC;IAAG,CAAC,MAAM;MACzBC,EAAE,EAAED,GAAG,CAACC,EAAE;MACVC,cAAc,EAAEf,eAAe,CAAC;QAC5BgB,KAAK,EAAE,CAACH,GAAG,CAACI,gBAAgB,CAAC;QAC7Bb,QAAQ;QACRC;MACJ,CAAC,CAAC;MACFa,QAAQ,EAAEL,GAAG,CAACM,SAAS;MACvBC,gBAAgB,EAAEP,GAAG,CAACQ,kBAAkB;MACxCC,eAAe,EAAET,GAAG,CAACU;IACzB,CAAC;EACL,CAAC,CAAC;EAEF,OAAOjB,OAAO;AAClB,CAAC;AAEDkB,MAAM,CAACC,OAAO,GAAGvB,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}