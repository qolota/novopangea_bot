{"ast":null,"code":"const fetchWithAttempts = require('../utils/fetchWithAttempts');\nconst {\n  WAX_BLOCKS_PROVIDER\n} = require('../configs/ENDPOINTS');\nconst fetchWaxData2 = async ({\n  params,\n  ignoreHttpErrorStatuses\n}) => {\n  const data = await fetchWithAttempts({\n    url: `${WAX_BLOCKS_PROVIDER}/v1/chain/get_table_rows`,\n    options: {\n      headers: {\n        \"accept\": \"*/*\"\n      },\n      body: JSON.stringify(params),\n      method: 'POST'\n    },\n    retries: 3,\n    ignoreHttpErrorStatuses\n  });\n  if (data == null) {\n    return null;\n  }\n  if (data.code === 'ignore_http_status') {\n    return data;\n  }\n  return {\n    nextKey: data.next_key === '' ? null : data.next_key,\n    rows: data.rows\n  };\n};\nmodule.exports = fetchWaxData2;","map":{"version":3,"names":["fetchWithAttempts","require","WAX_BLOCKS_PROVIDER","fetchWaxData2","params","ignoreHttpErrorStatuses","data","url","options","headers","body","JSON","stringify","method","retries","code","nextKey","next_key","rows","module","exports"],"sources":["/Users/germangurov/projects/wax_bot/src/core/fetchWaxData2.js"],"sourcesContent":["const fetchWithAttempts = require('../utils/fetchWithAttempts');\nconst {WAX_BLOCKS_PROVIDER} = require('../configs/ENDPOINTS');\n\nconst fetchWaxData2 = async ({\n  params,\n  ignoreHttpErrorStatuses,\n}) => {\n    const data = await fetchWithAttempts({\n      url: `${WAX_BLOCKS_PROVIDER}/v1/chain/get_table_rows`,\n      options: {\n        headers: {\n          \"accept\": \"*/*\",\n        },\n        body: JSON.stringify(params),\n        method: 'POST',\n      },\n      retries: 3,\n      ignoreHttpErrorStatuses,\n    });\n\n    if (data == null) {\n      return null;\n    }\n\n    if (data.code === 'ignore_http_status') {\n      return data;\n    }\n\n    return {\n        nextKey: data.next_key === ''\n          ? null\n          : data.next_key,\n        rows: data.rows,\n    };\n}\n\nmodule.exports = fetchWaxData2;\n"],"mappings":"AAAA,MAAMA,iBAAiB,GAAGC,OAAO,CAAC,4BAA4B,CAAC;AAC/D,MAAM;EAACC;AAAmB,CAAC,GAAGD,OAAO,CAAC,sBAAsB,CAAC;AAE7D,MAAME,aAAa,GAAG,MAAAA,CAAO;EAC3BC,MAAM;EACNC;AACF,CAAC,KAAK;EACF,MAAMC,IAAI,GAAG,MAAMN,iBAAiB,CAAC;IACnCO,GAAG,EAAG,GAAEL,mBAAoB,0BAAyB;IACrDM,OAAO,EAAE;MACPC,OAAO,EAAE;QACP,QAAQ,EAAE;MACZ,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,MAAM,CAAC;MAC5BS,MAAM,EAAE;IACV,CAAC;IACDC,OAAO,EAAE,CAAC;IACVT;EACF,CAAC,CAAC;EAEF,IAAIC,IAAI,IAAI,IAAI,EAAE;IAChB,OAAO,IAAI;EACb;EAEA,IAAIA,IAAI,CAACS,IAAI,KAAK,oBAAoB,EAAE;IACtC,OAAOT,IAAI;EACb;EAEA,OAAO;IACHU,OAAO,EAAEV,IAAI,CAACW,QAAQ,KAAK,EAAE,GACzB,IAAI,GACJX,IAAI,CAACW,QAAQ;IACjBC,IAAI,EAAEZ,IAAI,CAACY;EACf,CAAC;AACL,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGjB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}