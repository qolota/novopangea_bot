{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst Generator_1 = require(\"./Generator\");\n/* tslint:disable:variable-name */\nclass RpcActionGenerator extends Generator_1.ActionGenerator {\n  constructor(api) {\n    super(api.contract);\n    this.api = api;\n  }\n  async createcol(authorization, author, collection_name, allow_notify, authorized_accounts, notify_accounts, market_fee, data) {\n    const config = await this.api.config();\n    return super.createcol(authorization, author, collection_name, allow_notify, authorized_accounts, notify_accounts, market_fee, (0, Generator_1.toAttributeMap)(data, config.collection_format));\n  }\n  async createtempl(authorization, authorized_creator, collection_name, schema_name, transferable, burnable, max_supply, immutable_data) {\n    const schema = await this.api.getSchema(collection_name, schema_name);\n    const immutable_attribute_map = (0, Generator_1.toAttributeMap)(immutable_data, await schema.rawFormat());\n    return super.createtempl(authorization, authorized_creator, collection_name, schema_name, transferable, burnable, max_supply, immutable_attribute_map);\n  }\n  async mintasset(authorization, authorized_minter, collection_name, schema_name, template_id, new_owner, immutable_data, mutable_data, tokens_to_back) {\n    const template = await this.api.getTemplate(collection_name, template_id);\n    const immutable_attribute_map = (0, Generator_1.toAttributeMap)(immutable_data, await (await template.schema()).rawFormat());\n    const mutable_attribute_map = (0, Generator_1.toAttributeMap)(mutable_data, await (await template.schema()).rawFormat());\n    return super.mintasset(authorization, authorized_minter, collection_name, schema_name, template_id, new_owner, immutable_attribute_map, mutable_attribute_map, tokens_to_back);\n  }\n  async setassetdata(authorization, authorized_editor, owner, asset_id, mutable_data) {\n    const asset = await this.api.getAsset(owner, asset_id);\n    const schema = await asset.schema();\n    const mutable_attribute_map = (0, Generator_1.toAttributeMap)(mutable_data, await schema.rawFormat());\n    return super.setassetdata(authorization, authorized_editor, owner, asset_id, mutable_attribute_map);\n  }\n  async setcoldata(authorization, collection_name, data) {\n    const mdata = (0, Generator_1.toAttributeMap)(data, (await this.api.config()).collection_format);\n    return super.setcoldata(authorization, collection_name, mdata);\n  }\n}\nexports.default = RpcActionGenerator;","map":{"version":3,"names":["Object","defineProperty","exports","value","Generator_1","require","RpcActionGenerator","ActionGenerator","constructor","api","contract","createcol","authorization","author","collection_name","allow_notify","authorized_accounts","notify_accounts","market_fee","data","config","toAttributeMap","collection_format","createtempl","authorized_creator","schema_name","transferable","burnable","max_supply","immutable_data","schema","getSchema","immutable_attribute_map","rawFormat","mintasset","authorized_minter","template_id","new_owner","mutable_data","tokens_to_back","template","getTemplate","mutable_attribute_map","setassetdata","authorized_editor","owner","asset_id","asset","getAsset","setcoldata","mdata","default"],"sources":["/Users/germangurov/projects/wax_bot/node_modules/atomicassets/build/Actions/Rpc.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Generator_1 = require(\"./Generator\");\n/* tslint:disable:variable-name */\nclass RpcActionGenerator extends Generator_1.ActionGenerator {\n    constructor(api) {\n        super(api.contract);\n        this.api = api;\n    }\n    async createcol(authorization, author, collection_name, allow_notify, authorized_accounts, notify_accounts, market_fee, data) {\n        const config = await this.api.config();\n        return super.createcol(authorization, author, collection_name, allow_notify, authorized_accounts, notify_accounts, market_fee, (0, Generator_1.toAttributeMap)(data, config.collection_format));\n    }\n    async createtempl(authorization, authorized_creator, collection_name, schema_name, transferable, burnable, max_supply, immutable_data) {\n        const schema = await this.api.getSchema(collection_name, schema_name);\n        const immutable_attribute_map = (0, Generator_1.toAttributeMap)(immutable_data, await schema.rawFormat());\n        return super.createtempl(authorization, authorized_creator, collection_name, schema_name, transferable, burnable, max_supply, immutable_attribute_map);\n    }\n    async mintasset(authorization, authorized_minter, collection_name, schema_name, template_id, new_owner, immutable_data, mutable_data, tokens_to_back) {\n        const template = await this.api.getTemplate(collection_name, template_id);\n        const immutable_attribute_map = (0, Generator_1.toAttributeMap)(immutable_data, await (await template.schema()).rawFormat());\n        const mutable_attribute_map = (0, Generator_1.toAttributeMap)(mutable_data, await (await template.schema()).rawFormat());\n        return super.mintasset(authorization, authorized_minter, collection_name, schema_name, template_id, new_owner, immutable_attribute_map, mutable_attribute_map, tokens_to_back);\n    }\n    async setassetdata(authorization, authorized_editor, owner, asset_id, mutable_data) {\n        const asset = await this.api.getAsset(owner, asset_id);\n        const schema = await asset.schema();\n        const mutable_attribute_map = (0, Generator_1.toAttributeMap)(mutable_data, await schema.rawFormat());\n        return super.setassetdata(authorization, authorized_editor, owner, asset_id, mutable_attribute_map);\n    }\n    async setcoldata(authorization, collection_name, data) {\n        const mdata = (0, Generator_1.toAttributeMap)(data, (await this.api.config()).collection_format);\n        return super.setcoldata(authorization, collection_name, mdata);\n    }\n}\nexports.default = RpcActionGenerator;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,MAAMC,WAAW,GAAGC,OAAO,CAAC,aAAa,CAAC;AAC1C;AACA,MAAMC,kBAAkB,SAASF,WAAW,CAACG,eAAe,CAAC;EACzDC,WAAWA,CAACC,GAAG,EAAE;IACb,KAAK,CAACA,GAAG,CAACC,QAAQ,CAAC;IACnB,IAAI,CAACD,GAAG,GAAGA,GAAG;EAClB;EACA,MAAME,SAASA,CAACC,aAAa,EAAEC,MAAM,EAAEC,eAAe,EAAEC,YAAY,EAAEC,mBAAmB,EAAEC,eAAe,EAAEC,UAAU,EAAEC,IAAI,EAAE;IAC1H,MAAMC,MAAM,GAAG,MAAM,IAAI,CAACX,GAAG,CAACW,MAAM,CAAC,CAAC;IACtC,OAAO,KAAK,CAACT,SAAS,CAACC,aAAa,EAAEC,MAAM,EAAEC,eAAe,EAAEC,YAAY,EAAEC,mBAAmB,EAAEC,eAAe,EAAEC,UAAU,EAAE,CAAC,CAAC,EAAEd,WAAW,CAACiB,cAAc,EAAEF,IAAI,EAAEC,MAAM,CAACE,iBAAiB,CAAC,CAAC;EACnM;EACA,MAAMC,WAAWA,CAACX,aAAa,EAAEY,kBAAkB,EAAEV,eAAe,EAAEW,WAAW,EAAEC,YAAY,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,cAAc,EAAE;IACnI,MAAMC,MAAM,GAAG,MAAM,IAAI,CAACrB,GAAG,CAACsB,SAAS,CAACjB,eAAe,EAAEW,WAAW,CAAC;IACrE,MAAMO,uBAAuB,GAAG,CAAC,CAAC,EAAE5B,WAAW,CAACiB,cAAc,EAAEQ,cAAc,EAAE,MAAMC,MAAM,CAACG,SAAS,CAAC,CAAC,CAAC;IACzG,OAAO,KAAK,CAACV,WAAW,CAACX,aAAa,EAAEY,kBAAkB,EAAEV,eAAe,EAAEW,WAAW,EAAEC,YAAY,EAAEC,QAAQ,EAAEC,UAAU,EAAEI,uBAAuB,CAAC;EAC1J;EACA,MAAME,SAASA,CAACtB,aAAa,EAAEuB,iBAAiB,EAAErB,eAAe,EAAEW,WAAW,EAAEW,WAAW,EAAEC,SAAS,EAAER,cAAc,EAAES,YAAY,EAAEC,cAAc,EAAE;IAClJ,MAAMC,QAAQ,GAAG,MAAM,IAAI,CAAC/B,GAAG,CAACgC,WAAW,CAAC3B,eAAe,EAAEsB,WAAW,CAAC;IACzE,MAAMJ,uBAAuB,GAAG,CAAC,CAAC,EAAE5B,WAAW,CAACiB,cAAc,EAAEQ,cAAc,EAAE,MAAM,CAAC,MAAMW,QAAQ,CAACV,MAAM,CAAC,CAAC,EAAEG,SAAS,CAAC,CAAC,CAAC;IAC5H,MAAMS,qBAAqB,GAAG,CAAC,CAAC,EAAEtC,WAAW,CAACiB,cAAc,EAAEiB,YAAY,EAAE,MAAM,CAAC,MAAME,QAAQ,CAACV,MAAM,CAAC,CAAC,EAAEG,SAAS,CAAC,CAAC,CAAC;IACxH,OAAO,KAAK,CAACC,SAAS,CAACtB,aAAa,EAAEuB,iBAAiB,EAAErB,eAAe,EAAEW,WAAW,EAAEW,WAAW,EAAEC,SAAS,EAAEL,uBAAuB,EAAEU,qBAAqB,EAAEH,cAAc,CAAC;EAClL;EACA,MAAMI,YAAYA,CAAC/B,aAAa,EAAEgC,iBAAiB,EAAEC,KAAK,EAAEC,QAAQ,EAAER,YAAY,EAAE;IAChF,MAAMS,KAAK,GAAG,MAAM,IAAI,CAACtC,GAAG,CAACuC,QAAQ,CAACH,KAAK,EAAEC,QAAQ,CAAC;IACtD,MAAMhB,MAAM,GAAG,MAAMiB,KAAK,CAACjB,MAAM,CAAC,CAAC;IACnC,MAAMY,qBAAqB,GAAG,CAAC,CAAC,EAAEtC,WAAW,CAACiB,cAAc,EAAEiB,YAAY,EAAE,MAAMR,MAAM,CAACG,SAAS,CAAC,CAAC,CAAC;IACrG,OAAO,KAAK,CAACU,YAAY,CAAC/B,aAAa,EAAEgC,iBAAiB,EAAEC,KAAK,EAAEC,QAAQ,EAAEJ,qBAAqB,CAAC;EACvG;EACA,MAAMO,UAAUA,CAACrC,aAAa,EAAEE,eAAe,EAAEK,IAAI,EAAE;IACnD,MAAM+B,KAAK,GAAG,CAAC,CAAC,EAAE9C,WAAW,CAACiB,cAAc,EAAEF,IAAI,EAAE,CAAC,MAAM,IAAI,CAACV,GAAG,CAACW,MAAM,CAAC,CAAC,EAAEE,iBAAiB,CAAC;IAChG,OAAO,KAAK,CAAC2B,UAAU,CAACrC,aAAa,EAAEE,eAAe,EAAEoC,KAAK,CAAC;EAClE;AACJ;AACAhD,OAAO,CAACiD,OAAO,GAAG7C,kBAAkB"},"metadata":{},"sourceType":"script","externalDependencies":[]}