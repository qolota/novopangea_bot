{"ast":null,"code":"const _ = require('lodash');\nconst fetchDEXs = require('./fetchDEXs');\nconst fetchSwapPools = require('./fetchSwapPools');\nconst fetchMarkets = async () => {\n  const dexs = await fetchDEXs();\n  const pools = await fetchSwapPools();\n  const markets = _([..._.keys(dexs), ..._.keys(pools)]).uniq().map(marketKey => ({\n    marketKey,\n    dexs: dexs[marketKey] || [],\n    pools: pools[marketKey] || []\n  })).reduce((markets, market) => {\n    markets[market.marketKey] = market;\n    return markets;\n  }, {});\n  return markets;\n};\nmodule.exports = fetchMarkets;","map":{"version":3,"names":["_","require","fetchDEXs","fetchSwapPools","fetchMarkets","dexs","pools","markets","keys","uniq","map","marketKey","reduce","market","module","exports"],"sources":["/Users/germangurov/projects/wax_bot/src/alcor/api/fetchMarkets.js"],"sourcesContent":["const _ = require('lodash');\nconst fetchDEXs = require('./fetchDEXs');\nconst fetchSwapPools = require('./fetchSwapPools');\n\nconst fetchMarkets = async () => {\n  const dexs = await fetchDEXs();\n  const pools = await fetchSwapPools();\n\n  const markets = _([\n    ..._.keys(dexs),\n    ..._.keys(pools),\n  ])\n    .uniq()\n    .map(marketKey => ({\n      marketKey,\n      dexs: dexs[marketKey] || [],\n      pools: pools[marketKey] || [],\n    }))\n    .reduce((markets, market) => {\n      markets[market.marketKey] = market;\n      return markets;\n    }, {});\n\n  return markets;\n};\n\nmodule.exports = fetchMarkets;\n"],"mappings":"AAAA,MAAMA,CAAC,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAC3B,MAAMC,SAAS,GAAGD,OAAO,CAAC,aAAa,CAAC;AACxC,MAAME,cAAc,GAAGF,OAAO,CAAC,kBAAkB,CAAC;AAElD,MAAMG,YAAY,GAAG,MAAAA,CAAA,KAAY;EAC/B,MAAMC,IAAI,GAAG,MAAMH,SAAS,CAAC,CAAC;EAC9B,MAAMI,KAAK,GAAG,MAAMH,cAAc,CAAC,CAAC;EAEpC,MAAMI,OAAO,GAAGP,CAAC,CAAC,CAChB,GAAGA,CAAC,CAACQ,IAAI,CAACH,IAAI,CAAC,EACf,GAAGL,CAAC,CAACQ,IAAI,CAACF,KAAK,CAAC,CACjB,CAAC,CACCG,IAAI,CAAC,CAAC,CACNC,GAAG,CAACC,SAAS,KAAK;IACjBA,SAAS;IACTN,IAAI,EAAEA,IAAI,CAACM,SAAS,CAAC,IAAI,EAAE;IAC3BL,KAAK,EAAEA,KAAK,CAACK,SAAS,CAAC,IAAI;EAC7B,CAAC,CAAC,CAAC,CACFC,MAAM,CAAC,CAACL,OAAO,EAAEM,MAAM,KAAK;IAC3BN,OAAO,CAACM,MAAM,CAACF,SAAS,CAAC,GAAGE,MAAM;IAClC,OAAON,OAAO;EAChB,CAAC,EAAE,CAAC,CAAC,CAAC;EAER,OAAOA,OAAO;AAChB,CAAC;AAEDO,MAAM,CAACC,OAAO,GAAGX,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}