{"ast":null,"code":"var _=require('lodash');var getExchangeRate=function getExchangeRate(_ref){var exchange=_ref.exchange,resources=_ref.resources,exchangeStrategy=_ref.exchangeStrategy;return _(resources).map(function(r){var symbolFrom=exchangeStrategy[r.symbol];var resourceExchange=exchange.find(function(e){return e.from===symbolFrom&&e.to===r.symbol;});return{valueFrom:_.ceil(r.value/resourceExchange.rate),symbolFrom:symbolFrom,valueTo:r.value,symbolTo:r.symbol};}).value();};module.exports=getExchangeRate;","map":{"version":3,"names":["_","require","getExchangeRate","_ref","exchange","resources","exchangeStrategy","map","r","symbolFrom","symbol","resourceExchange","find","e","from","to","valueFrom","ceil","value","rate","valueTo","symbolTo","module","exports"],"sources":["/Users/germangurov/projects/wax_bot/src/novopangea/utils/getExchangeRate.js"],"sourcesContent":["const _ = require('lodash');\n\nconst getExchangeRate = ({\n    exchange,\n    resources,\n    exchangeStrategy,\n}) => {\n    return _(resources)\n        .map(r => {\n            const symbolFrom = exchangeStrategy[r.symbol];\n            const resourceExchange = exchange.find(e => e.from === symbolFrom && e.to === r.symbol);\n\n            return {\n                valueFrom: _.ceil(r.value / resourceExchange.rate),\n                symbolFrom,\n                valueTo: r.value,\n                symbolTo: r.symbol,\n            };\n        })\n        .value();\n};\n\nmodule.exports = getExchangeRate;"],"mappings":"AAAA,GAAM,CAAAA,CAAC,CAAGC,OAAO,CAAC,QAAQ,CAAC,CAE3B,GAAM,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAAC,IAAA,CAIf,IAHF,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACRC,SAAS,CAAAF,IAAA,CAATE,SAAS,CACTC,gBAAgB,CAAAH,IAAA,CAAhBG,gBAAgB,CAEhB,MAAO,CAAAN,CAAC,CAACK,SAAS,CAAC,CACdE,GAAG,CAAC,SAAAC,CAAC,CAAI,CACN,GAAM,CAAAC,UAAU,CAAGH,gBAAgB,CAACE,CAAC,CAACE,MAAM,CAAC,CAC7C,GAAM,CAAAC,gBAAgB,CAAGP,QAAQ,CAACQ,IAAI,CAAC,SAAAC,CAAC,QAAI,CAAAA,CAAC,CAACC,IAAI,GAAKL,UAAU,EAAII,CAAC,CAACE,EAAE,GAAKP,CAAC,CAACE,MAAM,GAAC,CAEvF,MAAO,CACHM,SAAS,CAAEhB,CAAC,CAACiB,IAAI,CAACT,CAAC,CAACU,KAAK,CAAGP,gBAAgB,CAACQ,IAAI,CAAC,CAClDV,UAAU,CAAVA,UAAU,CACVW,OAAO,CAAEZ,CAAC,CAACU,KAAK,CAChBG,QAAQ,CAAEb,CAAC,CAACE,MAChB,CAAC,CACL,CAAC,CAAC,CACDQ,KAAK,CAAC,CAAC,CAChB,CAAC,CAEDI,MAAM,CAACC,OAAO,CAAGrB,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}